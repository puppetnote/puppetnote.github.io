var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n,i,r,o,s,a,u,c,d,l,h,f,v,p,E,m,g={};function y(){if(i)return n;i=1;var e=function(t){return t&&t.Math===Math&&t};return n=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||e("object"==typeof n&&n)||function(){return this}()||Function("return this")()}function A(){return o?r:(o=1,r=function(t){try{return!!t()}catch(t){return!0}})}function S(){return a?s:(a=1,s=!A()((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})))}function R(){if(c)return u;c=1;var t=S(),e=Function.prototype,n=e.apply,i=e.call;return u="object"==typeof Reflect&&Reflect.apply||(t?i.bind(n):function(){return i.apply(n,arguments)}),u}function D(){if(l)return d;l=1;var t=S(),e=Function.prototype,n=e.call,i=t&&e.bind.bind(n,n);return d=t?i:function(t){return function(){return n.apply(t,arguments)}},d}function T(){if(f)return h;f=1;var t=D(),e=t({}.toString),n=t("".slice);return h=function(t){return n(e(t),8,-1)}}function k(){if(p)return v;p=1;var t=T(),e=D();return v=function(n){if("Function"===t(n))return e(n)}}function b(){if(m)return E;m=1;var t="object"==typeof document&&document.all;return E=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(t){return"function"==typeof t}}var I,_,w,L,O={};function C(){return _?I:(_=1,I=!A()((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})))}function P(){if(L)return w;L=1;var t=S(),e=Function.prototype.call;return w=t?e.bind(e):function(){return e.apply(e,arguments)},w}var N,M,U,F,V,x,H,j,W,G,B,q,K,$,z,Q,X,Y,J,Z,tt,et,nt,it,rt,ot,st,at,ut,ct,dt,lt,ht,ft,vt,pt,Et,mt={};function gt(){if(N)return mt;N=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,n=e&&!t.call({1:2},1);return mt.f=n?function(t){var n=e(this,t);return!!n&&n.enumerable}:t,mt}function yt(){return U?M:(U=1,M=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}})}function At(){if(V)return F;V=1;var t=D(),e=A(),n=T(),i=Object,r=t("".split);return F=e((function(){return!i("z").propertyIsEnumerable(0)}))?function(t){return"String"===n(t)?r(t,""):i(t)}:i}function St(){return H?x:(H=1,x=function(t){return null==t})}function Rt(){if(W)return j;W=1;var t=St(),e=TypeError;return j=function(n){if(t(n))throw new e("Can't call method on "+n);return n}}function Dt(){if(B)return G;B=1;var t=At(),e=Rt();return G=function(n){return t(e(n))}}function Tt(){if(K)return q;K=1;var t=b();return q=function(e){return"object"==typeof e?null!==e:t(e)}}function kt(){return z?$:(z=1,$={})}function bt(){if(X)return Q;X=1;var t=kt(),e=y(),n=b(),i=function(t){return n(t)?t:void 0};return Q=function(n,r){return arguments.length<2?i(t[n])||i(e[n]):t[n]&&t[n][r]||e[n]&&e[n][r]},Q}function It(){return J?Y:(J=1,Y=D()({}.isPrototypeOf))}function _t(){if(tt)return Z;tt=1;var t=y().navigator,e=t&&t.userAgent;return Z=e?String(e):""}function wt(){if(nt)return et;nt=1;var t,e,n=y(),i=_t(),r=n.process,o=n.Deno,s=r&&r.versions||o&&o.version,a=s&&s.v8;return a&&(e=(t=a.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!e&&i&&(!(t=i.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=i.match(/Chrome\/(\d+)/))&&(e=+t[1]),et=e}function Lt(){if(rt)return it;rt=1;var t=wt(),e=A(),n=y().String;return it=!!Object.getOwnPropertySymbols&&!e((function(){var e=Symbol("symbol detection");return!n(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&t&&t<41})),it}function Ot(){return st?ot:(st=1,ot=Lt()&&!Symbol.sham&&"symbol"==typeof Symbol.iterator)}function Ct(){if(ut)return at;ut=1;var t=bt(),e=b(),n=It(),i=Object;return at=Ot()?function(t){return"symbol"==typeof t}:function(r){var o=t("Symbol");return e(o)&&n(o.prototype,i(r))}}function Pt(){if(dt)return ct;dt=1;var t=String;return ct=function(e){try{return t(e)}catch(t){return"Object"}}}function Nt(){if(ht)return lt;ht=1;var t=b(),e=Pt(),n=TypeError;return lt=function(i){if(t(i))return i;throw new n(e(i)+" is not a function")}}function Mt(){if(vt)return ft;vt=1;var t=Nt(),e=St();return ft=function(n,i){var r=n[i];return e(r)?void 0:t(r)}}function Ut(){if(Et)return pt;Et=1;var t=P(),e=b(),n=Tt(),i=TypeError;return pt=function(r,o){var s,a;if("string"===o&&e(s=r.toString)&&!n(a=t(s,r)))return a;if(e(s=r.valueOf)&&!n(a=t(s,r)))return a;if("string"!==o&&e(s=r.toString)&&!n(a=t(s,r)))return a;throw new i("Can't convert object to primitive value")}}var Ft,Vt,xt,Ht,jt,Wt,Gt,Bt,qt,Kt,$t,zt,Qt,Xt,Yt,Jt,Zt,te,ee,ne,ie,re,oe,se,ae,ue,ce,de,le={exports:{}};function he(){return Vt?Ft:(Vt=1,Ft=!0)}function fe(){if(Ht)return xt;Ht=1;var t=y(),e=Object.defineProperty;return xt=function(n,i){try{e(t,n,{value:i,configurable:!0,writable:!0})}catch(e){t[n]=i}return i}}function ve(){if(jt)return le.exports;jt=1;var t=he(),e=y(),n=fe(),i="__core-js_shared__",r=le.exports=e[i]||n(i,{});return(r.versions||(r.versions=[])).push({version:"3.41.0",mode:t?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"}),le.exports}function pe(){if(Gt)return Wt;Gt=1;var t=ve();return Wt=function(e,n){return t[e]||(t[e]=n||{})}}function Ee(){if(qt)return Bt;qt=1;var t=Rt(),e=Object;return Bt=function(n){return e(t(n))}}function me(){if($t)return Kt;$t=1;var t=D(),e=Ee(),n=t({}.hasOwnProperty);return Kt=Object.hasOwn||function(t,i){return n(e(t),i)}}function ge(){if(Qt)return zt;Qt=1;var t=D(),e=0,n=Math.random(),i=t(1..toString);return zt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++e+n,36)}}function ye(){if(Yt)return Xt;Yt=1;var t=y(),e=pe(),n=me(),i=ge(),r=Lt(),o=Ot(),s=t.Symbol,a=e("wks"),u=o?s.for||s:s&&s.withoutSetter||i;return Xt=function(t){return n(a,t)||(a[t]=r&&n(s,t)?s[t]:u("Symbol."+t)),a[t]}}function Ae(){if(Zt)return Jt;Zt=1;var t=P(),e=Tt(),n=Ct(),i=Mt(),r=Ut(),o=TypeError,s=ye()("toPrimitive");return Jt=function(a,u){if(!e(a)||n(a))return a;var c,d=i(a,s);if(d){if(void 0===u&&(u="default"),c=t(d,a,u),!e(c)||n(c))return c;throw new o("Can't convert object to primitive value")}return void 0===u&&(u="number"),r(a,u)}}function Se(){if(ee)return te;ee=1;var t=Ae(),e=Ct();return te=function(n){var i=t(n,"string");return e(i)?i:i+""}}function Re(){if(ie)return ne;ie=1;var t=y(),e=Tt(),n=t.document,i=e(n)&&e(n.createElement);return ne=function(t){return i?n.createElement(t):{}}}function De(){if(oe)return re;oe=1;var t=C(),e=A(),n=Re();return re=!t&&!e((function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))}function Te(){if(se)return O;se=1;var t=C(),e=P(),n=gt(),i=yt(),r=Dt(),o=Se(),s=me(),a=De(),u=Object.getOwnPropertyDescriptor;return O.f=t?u:function(t,c){if(t=r(t),c=o(c),a)try{return u(t,c)}catch(t){}if(s(t,c))return i(!e(n.f,t,c),t[c])},O}function ke(){if(ue)return ae;ue=1;var t=A(),e=b(),n=/#|\.prototype\./,i=function(n,i){var u=o[r(n)];return u===a||u!==s&&(e(i)?t(i):!!i)},r=i.normalize=function(t){return String(t).replace(n,".").toLowerCase()},o=i.data={},s=i.NATIVE="N",a=i.POLYFILL="P";return ae=i}function be(){if(de)return ce;de=1;var t=k(),e=Nt(),n=S(),i=t(t.bind);return ce=function(t,r){return e(t),void 0===r?t:n?i(t,r):function(){return t.apply(r,arguments)}},ce}var Ie,_e,we,Le,Oe,Ce,Pe,Ne,Me,Ue,Fe,Ve,xe,He,je,We,Ge,Be,qe,Ke,$e,ze,Qe,Xe,Ye,Je,Ze,tn,en={};function nn(){return _e?Ie:(_e=1,Ie=C()&&A()((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})))}function rn(){if(Le)return we;Le=1;var t=Tt(),e=String,n=TypeError;return we=function(i){if(t(i))return i;throw new n(e(i)+" is not an object")}}function on(){if(Oe)return en;Oe=1;var t=C(),e=De(),n=nn(),i=rn(),r=Se(),o=TypeError,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",c="configurable",d="writable";return en.f=t?n?function(t,e,n){if(i(t),e=r(e),i(n),"function"==typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var o=a(t,e);o&&o[d]&&(t[e]=n.value,n={configurable:c in n?n[c]:o[c],enumerable:u in n?n[u]:o[u],writable:!1})}return s(t,e,n)}:s:function(t,n,a){if(i(t),n=r(n),i(a),e)try{return s(t,n,a)}catch(t){}if("get"in a||"set"in a)throw new o("Accessors not supported");return"value"in a&&(t[n]=a.value),t},en}function sn(){if(Pe)return Ce;Pe=1;var t=C(),e=on(),n=yt();return Ce=t?function(t,i,r){return e.f(t,i,n(1,r))}:function(t,e,n){return t[e]=n,t}}function an(){if(Me)return Ne;Me=1;var t=y(),e=R(),n=k(),i=b(),r=Te().f,o=ke(),s=kt(),a=be(),u=sn(),c=me(),d=function(t){var n=function(i,r,o){if(this instanceof n){switch(arguments.length){case 0:return new t;case 1:return new t(i);case 2:return new t(i,r)}return new t(i,r,o)}return e(t,this,arguments)};return n.prototype=t.prototype,n};return Ne=function(e,l){var h,f,v,p,E,m,g,y,A,S=e.target,R=e.global,D=e.stat,T=e.proto,k=R?t:D?t[S]:t[S]&&t[S].prototype,b=R?s:s[S]||u(s,S,{})[S],I=b.prototype;for(p in l)f=!(h=o(R?p:S+(D?".":"#")+p,e.forced))&&k&&c(k,p),m=b[p],f&&(g=e.dontCallGetSet?(A=r(k,p))&&A.value:k[p]),E=f&&g?g:l[p],(h||T||typeof m!=typeof E)&&(y=e.bind&&f?a(E,t):e.wrap&&f?d(E):T&&i(E)?n(E):E,(e.sham||E&&E.sham||m&&m.sham)&&u(y,"sham",!0),u(b,p,y),T&&(c(s,v=S+"Prototype")||u(s,v,{}),u(s[v],p,E),e.real&&I&&(h||!I[p])&&u(I,p,E)))}}function un(){if(Fe)return Ue;Fe=1;var t=me();return Ue=function(e){return void 0!==e&&(t(e,"value")||t(e,"writable"))}}function cn(){if(xe)return Ve;xe=1;var t=pe(),e=ge(),n=t("keys");return Ve=function(t){return n[t]||(n[t]=e(t))}}function dn(){return je?He:(je=1,He=!A()((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})))}function ln(){if(Ge)return We;Ge=1;var t=me(),e=b(),n=Ee(),i=cn(),r=dn(),o=i("IE_PROTO"),s=Object,a=s.prototype;return We=r?s.getPrototypeOf:function(i){var r=n(i);if(t(r,o))return r[o];var u=r.constructor;return e(u)&&r instanceof u?u.prototype:r instanceof s?a:null}}function hn(){return Ke?qe:(Ke=1,function(){if(Be)return g;Be=1;var t=an(),e=P(),n=Tt(),i=rn(),r=un(),o=Te(),s=ln();t({target:"Reflect",stat:!0},{get:function t(a,u){var c,d,l=arguments.length<3?a:arguments[2];return i(a)===l?a[u]:(c=o.f(a,u))?r(c)?c.value:void 0===c.get?void 0:e(c.get,l):n(d=s(a))?t(d,u,l):void 0}})}(),qe=kt().Reflect.get)}function fn(){return ze?$e:(ze=1,$e=hn())}function vn(){return Xe?Qe:(Xe=1,Qe=fn())}function pn(){return Je?Ye:(Je=1,Ye=vn())}function En(){return tn?Ze:(tn=1,Ze=pn())}var mn,gn,yn,An,Sn,Rn,Dn,Tn,kn,bn,In,_n,wn,Ln,On,Cn,Pn,Nn,Mn,Un=e(En()),Fn={};function Vn(){return gn?mn:(gn=1,mn=D()([].slice))}function xn(){if(An)return yn;An=1;var t=D(),e=Nt(),n=Tt(),i=me(),r=Vn(),o=S(),s=Function,a=t([].concat),u=t([].join),c={};return yn=o?s.bind:function(t){var o=e(this),d=o.prototype,l=r(arguments,1),h=function(){var e=a(l,r(arguments));return this instanceof h?function(t,e,n){if(!i(c,e)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";c[e]=s("C,a","return new C("+u(r,",")+")")}return c[e](t,n)}(o,e.length,e):o.apply(t,e)};return n(d)&&(h.prototype=d),h},yn}function Hn(){if(Dn)return Rn;Dn=1;var t=y(),e=kt();return Rn=function(n,i){var r=e[n+"Prototype"],o=r&&r[i];if(o)return o;var s=t[n],a=s&&s.prototype;return a&&a[i]}}function jn(){return kn?Tn:(kn=1,function(){if(Sn)return Fn;Sn=1;var t=an(),e=xn();t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e})}(),Tn=Hn()("Function","bind"))}function Wn(){if(In)return bn;In=1;var t=It(),e=jn(),n=Function.prototype;return bn=function(i){var r=i.bind;return i===n||t(n,i)&&r===n.bind?e:r}}function Gn(){return wn?_n:(wn=1,_n=Wn())}function Bn(){return On?Ln:(On=1,Ln=Gn())}function qn(){return Pn?Cn:(Pn=1,Cn=Bn())}function Kn(){return Mn?Nn:(Mn=1,Nn=qn())}var $n,zn,Qn,Xn,Yn,Jn,Zn,ti,ei,ni,ii=e(Kn()),ri={exports:{}},oi={};function si(){if(zn)return ri.exports;zn=1,function(){if($n)return oi;$n=1;var t=an(),e=A(),n=Dt(),i=Te().f,r=C();t({target:"Object",stat:!0,forced:!r||e((function(){i(1)})),sham:!r},{getOwnPropertyDescriptor:function(t,e){return i(n(t),e)}})}();var t=kt().Object,e=ri.exports=function(e,n){return t.getOwnPropertyDescriptor(e,n)};return t.getOwnPropertyDescriptor.sham&&(e.sham=!0),ri.exports}function ai(){return Xn?Qn:(Xn=1,Qn=si())}function ui(){return Jn?Yn:(Jn=1,Yn=ai())}function ci(){return ti?Zn:(ti=1,Zn=ui())}function di(){return ni?ei:(ni=1,ei=ci())}var li,hi,fi,vi,pi,Ei,mi,gi,yi,Ai,Si,Ri,Di,Ti,ki,bi,Ii,_i,wi,Li=e(di());function Oi(){if(hi)return li;hi=1;var t=D(),e=Nt();return li=function(n,i,r){try{return t(e(Object.getOwnPropertyDescriptor(n,i)[r]))}catch(t){}}}function Ci(){if(vi)return fi;vi=1;var t=Tt();return fi=function(e){return t(e)||null===e}}function Pi(){if(Ei)return pi;Ei=1;var t=Ci(),e=String,n=TypeError;return pi=function(i){if(t(i))return i;throw new n("Can't set "+e(i)+" as a prototype")}}function Ni(){if(gi)return mi;gi=1;var t=Oi(),e=Tt(),n=Rt(),i=Pi();return mi=Object.setPrototypeOf||("__proto__"in{}?function(){var r,o=!1,s={};try{(r=t(Object.prototype,"__proto__","set"))(s,[]),o=s instanceof Array}catch(t){}return function(t,s){return n(t),i(s),e(t)?(o?r(t,s):t.__proto__=s,t):t}}():void 0)}function Mi(){return Si?Ai:(Si=1,yi||(yi=1,an()({target:"Object",stat:!0},{setPrototypeOf:Ni()})),Ai=kt().Object.setPrototypeOf)}function Ui(){return Di?Ri:(Di=1,Ri=Mi())}function Fi(){return ki?Ti:(ki=1,Ti=Ui())}function Vi(){return Ii?bi:(Ii=1,bi=Fi())}function xi(){return wi?_i:(wi=1,_i=Vi())}var Hi,ji,Wi,Gi,Bi,qi,Ki,$i,zi,Qi,Xi,Yi=e(xi()),Ji={};function Zi(){return Wi?ji:(Wi=1,function(){if(Hi)return Ji;Hi=1;var t=an(),e=A(),n=Ee(),i=ln(),r=dn();t({target:"Object",stat:!0,forced:e((function(){i(1)})),sham:!r},{getPrototypeOf:function(t){return i(n(t))}})}(),ji=kt().Object.getPrototypeOf)}function tr(){return Bi?Gi:(Bi=1,Gi=Zi())}function er(){return Ki?qi:(Ki=1,qi=tr())}function nr(){return zi?$i:(zi=1,$i=er())}function ir(){return Xi?Qi:(Xi=1,Qi=nr())}var rr=e(ir());function or(t){var e;return or=Yi?ii(e=rr).call(e):function(t){return t.__proto__||rr(t)},or(t)}function sr(){var t;return sr="undefined"!=typeof Reflect&&Un?ii(t=Un).call(t):function(t,e,n){var i=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=or(t)););return t}(t,e);if(i){var r=Li(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},sr.apply(null,arguments)}var ar,ur,cr,dr,lr,hr,fr,vr,pr,Er,mr={exports:{}},gr={};function yr(){if(ar)return gr;ar=1;var t=an(),e=C(),n=on().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==n,sham:!e},{defineProperty:n}),gr}function Ar(){if(ur)return mr.exports;ur=1,yr();var t=kt().Object,e=mr.exports=function(e,n,i){return t.defineProperty(e,n,i)};return t.defineProperty.sham&&(e.sham=!0),mr.exports}function Sr(){return dr?cr:(dr=1,cr=Ar())}function Rr(){return hr?lr:(hr=1,lr=Sr())}function Dr(){return vr?fr:(vr=1,fr=Rr())}function Tr(){return Er?pr:(Er=1,pr=Dr())}var kr,br,Ir,_r,wr,Lr,Or,Cr,Pr,Nr,Mr,Ur,Fr,Vr,xr,Hr,jr,Wr,Gr,Br,qr,Kr,$r,zr,Qr,Xr,Yr,Jr,Zr,to=e(Tr()),eo={};function no(){if(br)return kr;br=1;var t=T();return kr=Array.isArray||function(e){return"Array"===t(e)}}function io(){if(_r)return Ir;_r=1;var t=Math.ceil,e=Math.floor;return Ir=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)}}function ro(){if(Lr)return wr;Lr=1;var t=io();return wr=function(e){var n=+e;return n!=n||0===n?0:t(n)}}function oo(){if(Cr)return Or;Cr=1;var t=ro(),e=Math.min;return Or=function(n){var i=t(n);return i>0?e(i,9007199254740991):0}}function so(){if(Nr)return Pr;Nr=1;var t=oo();return Pr=function(e){return t(e.length)}}function ao(){if(Ur)return Mr;Ur=1;var t=TypeError;return Mr=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}}function uo(){if(Vr)return Fr;Vr=1;var t=C(),e=on(),n=yt();return Fr=function(i,r,o){t?e.f(i,r,n(0,o)):i[r]=o}}function co(){if(Hr)return xr;Hr=1;var t={};return t[ye()("toStringTag")]="z",xr="[object z]"===String(t)}function lo(){if(Wr)return jr;Wr=1;var t=co(),e=b(),n=T(),i=ye()("toStringTag"),r=Object,o="Arguments"===n(function(){return arguments}());return jr=t?n:function(t){var s,a,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(a=function(t,e){try{return t[e]}catch(t){}}(s=r(t),i))?a:o?n(s):"Object"===(u=n(s))&&e(s.callee)?"Arguments":u}}function ho(){if(Br)return Gr;Br=1;var t=D(),e=b(),n=ve(),i=t(Function.toString);return e(n.inspectSource)||(n.inspectSource=function(t){return i(t)}),Gr=n.inspectSource}function fo(){if(Kr)return qr;Kr=1;var t=D(),e=A(),n=b(),i=lo(),r=bt(),o=ho(),s=function(){},a=r("Reflect","construct"),u=/^\s*(?:class|function)\b/,c=t(u.exec),d=!u.test(s),l=function(t){if(!n(t))return!1;try{return a(s,[],t),!0}catch(t){return!1}},h=function(t){if(!n(t))return!1;switch(i(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(u,o(t))}catch(t){return!0}};return h.sham=!0,qr=!a||e((function(){var t;return l(l.call)||!l(Object)||!l((function(){t=!0}))||t}))?h:l}function vo(){if(zr)return $r;zr=1;var t=no(),e=fo(),n=Tt(),i=ye()("species"),r=Array;return $r=function(o){var s;return t(o)&&(s=o.constructor,(e(s)&&(s===r||t(s.prototype))||n(s)&&null===(s=s[i]))&&(s=void 0)),void 0===s?r:s}}function po(){if(Xr)return Qr;Xr=1;var t=vo();return Qr=function(e,n){return new(t(e))(0===n?0:n)}}function Eo(){if(Jr)return Yr;Jr=1;var t=A(),e=ye(),n=wt(),i=e("species");return Yr=function(e){return n>=51||!t((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}}var mo,go,yo={},Ao={};function So(){if(go)return mo;go=1;var t=lo(),e=String;return mo=function(n){if("Symbol"===t(n))throw new TypeError("Cannot convert a Symbol value to a string");return e(n)}}var Ro,Do,To,ko,bo,Io,_o,wo,Lo,Oo,Co,Po,No,Mo,Uo,Fo,Vo,xo={};function Ho(){if(Do)return Ro;Do=1;var t=ro(),e=Math.max,n=Math.min;return Ro=function(i,r){var o=t(i);return o<0?e(o+r,0):n(o,r)}}function jo(){if(ko)return To;ko=1;var t=Dt(),e=Ho(),n=so(),i=function(i){return function(r,o,s){var a=t(r),u=n(a);if(0===u)return!i&&-1;var c,d=e(s,u);if(i&&o!=o){for(;u>d;)if((c=a[d++])!=c)return!0}else for(;u>d;d++)if((i||d in a)&&a[d]===o)return i||d||0;return!i&&-1}};return To={includes:i(!0),indexOf:i(!1)}}function Wo(){return Io?bo:(Io=1,bo={})}function Go(){if(wo)return _o;wo=1;var t=D(),e=me(),n=Dt(),i=jo().indexOf,r=Wo(),o=t([].push);return _o=function(t,s){var a,u=n(t),c=0,d=[];for(a in u)!e(r,a)&&e(u,a)&&o(d,a);for(;s.length>c;)e(u,a=s[c++])&&(~i(d,a)||o(d,a));return d}}function Bo(){return Oo?Lo:(Oo=1,Lo=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function qo(){if(Po)return Co;Po=1;var t=Go(),e=Bo();return Co=Object.keys||function(n){return t(n,e)}}function Ko(){if(No)return xo;No=1;var t=C(),e=nn(),n=on(),i=rn(),r=Dt(),o=qo();return xo.f=t&&!e?Object.defineProperties:function(t,e){i(t);for(var s,a=r(e),u=o(e),c=u.length,d=0;c>d;)n.f(t,s=u[d++],a[s]);return t},xo}function $o(){return Uo?Mo:(Uo=1,Mo=bt()("document","documentElement"))}function zo(){if(Vo)return Fo;Vo=1;var t,e=rn(),n=Ko(),i=Bo(),r=Wo(),o=$o(),s=Re(),a="prototype",u="script",c=cn()("IE_PROTO"),d=function(){},l=function(t){return"<"+u+">"+t+"</"+u+">"},h=function(t){t.write(l("")),t.close();var e=t.parentWindow.Object;return t=null,e},f=function(){try{t=new ActiveXObject("htmlfile")}catch(t){}var e,n,r;f="undefined"!=typeof document?document.domain&&t?h(t):(n=s("iframe"),r="java"+u+":",n.style.display="none",o.appendChild(n),n.src=String(r),(e=n.contentWindow.document).open(),e.write(l("document.F=Object")),e.close(),e.F):h(t);for(var c=i.length;c--;)delete f[a][i[c]];return f()};return r[c]=!0,Fo=Object.create||function(t,i){var r;return null!==t?(d[a]=e(t),r=new d,d[a]=null,r[c]=t):r=f(),void 0===i?r:n.f(r,i)}}var Qo,Xo={};function Yo(){if(Qo)return Xo;Qo=1;var t=Go(),e=Bo().concat("length","prototype");return Xo.f=Object.getOwnPropertyNames||function(n){return t(n,e)},Xo}var Jo,Zo={};function ts(){if(Jo)return Zo;Jo=1;var t=T(),e=Dt(),n=Yo().f,i=Vn(),r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return Zo.f=function(o){return r&&"Window"===t(o)?function(t){try{return n(t)}catch(t){return i(r)}}(o):n(e(o))},Zo}var es,ns,is,rs,os,ss={};function as(){return es||(es=1,ss.f=Object.getOwnPropertySymbols),ss}function us(){if(is)return ns;is=1;var t=sn();return ns=function(e,n,i,r){return r&&r.enumerable?e[n]=i:t(e,n,i),e}}function cs(){if(os)return rs;os=1;var t=on();return rs=function(e,n,i){return t.f(e,n,i)}}var ds,ls,hs,fs,vs,ps,Es,ms,gs,ys,As,Ss,Rs,Ds,Ts,ks,bs={};function Is(){if(ds)return bs;ds=1;var t=ye();return bs.f=t,bs}function _s(){if(hs)return ls;hs=1;var t=kt(),e=me(),n=Is(),i=on().f;return ls=function(r){var o=t.Symbol||(t.Symbol={});e(o,r)||i(o,r,{value:n.f(r)})}}function ws(){if(vs)return fs;vs=1;var t=P(),e=bt(),n=ye(),i=us();return fs=function(){var r=e("Symbol"),o=r&&r.prototype,s=o&&o.valueOf,a=n("toPrimitive");o&&!o[a]&&i(o,a,(function(e){return t(s,this)}),{arity:1})}}function Ls(){if(Es)return ps;Es=1;var t=co(),e=lo();return ps=t?{}.toString:function(){return"[object "+e(this)+"]"}}function Os(){if(gs)return ms;gs=1;var t=co(),e=on().f,n=sn(),i=me(),r=Ls(),o=ye()("toStringTag");return ms=function(s,a,u,c){var d=u?s:s&&s.prototype;d&&(i(d,o)||e(d,o,{configurable:!0,value:a}),c&&!t&&n(d,"toString",r))}}function Cs(){if(As)return ys;As=1;var t=y(),e=b(),n=t.WeakMap;return ys=e(n)&&/native code/.test(String(n))}function Ps(){if(Rs)return Ss;Rs=1;var t,e,n,i=Cs(),r=y(),o=Tt(),s=sn(),a=me(),u=ve(),c=cn(),d=Wo(),l="Object already initialized",h=r.TypeError,f=r.WeakMap;if(i||u.state){var v=u.state||(u.state=new f);v.get=v.get,v.has=v.has,v.set=v.set,t=function(t,e){if(v.has(t))throw new h(l);return e.facade=t,v.set(t,e),e},e=function(t){return v.get(t)||{}},n=function(t){return v.has(t)}}else{var p=c("state");d[p]=!0,t=function(t,e){if(a(t,p))throw new h(l);return e.facade=t,s(t,p,e),e},e=function(t){return a(t,p)?t[p]:{}},n=function(t){return a(t,p)}}return Ss={set:t,get:e,has:n,enforce:function(i){return n(i)?e(i):t(i,{})},getterFor:function(t){return function(n){var i;if(!o(n)||(i=e(n)).type!==t)throw new h("Incompatible receiver, "+t+" required");return i}}}}function Ns(){if(Ts)return Ds;Ts=1;var t=be(),e=D(),n=At(),i=Ee(),r=so(),o=po(),s=e([].push),a=function(e){var a=1===e,u=2===e,c=3===e,d=4===e,l=6===e,h=7===e,f=5===e||l;return function(v,p,E,m){for(var g,y,A=i(v),S=n(A),R=r(S),D=t(p,E),T=0,k=m||o,b=a?k(v,R):u||h?k(v,0):void 0;R>T;T++)if((f||T in S)&&(y=D(g=S[T],T,A),e))if(a)b[T]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return T;case 2:s(b,g)}else switch(e){case 4:return!1;case 7:s(b,g)}return l?-1:c||d?d:b}};return Ds={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)}}var Ms,Us,Fs,Vs={};function xs(){return Us?Ms:(Us=1,Ms=Lt()&&!!Symbol.for&&!!Symbol.keyFor)}var Hs,js={};var Ws,Gs,Bs,qs={};function Ks(){if(Gs)return Ws;Gs=1;var t=D(),e=no(),n=b(),i=T(),r=So(),o=t([].push);return Ws=function(t){if(n(t))return t;if(e(t)){for(var s=t.length,a=[],u=0;u<s;u++){var c=t[u];"string"==typeof c?o(a,c):"number"!=typeof c&&"Number"!==i(c)&&"String"!==i(c)||o(a,r(c))}var d=a.length,l=!0;return function(t,n){if(l)return l=!1,n;if(e(this))return n;for(var i=0;i<d;i++)if(a[i]===t)return n}}}}var $s,zs,Qs={};function Xs(){return zs||(zs=1,function(){if(ks)return Ao;ks=1;var t=an(),e=y(),n=P(),i=D(),r=he(),o=C(),s=Lt(),a=A(),u=me(),c=It(),d=rn(),l=Dt(),h=Se(),f=So(),v=yt(),p=zo(),E=qo(),m=Yo(),g=ts(),S=as(),R=Te(),T=on(),k=Ko(),b=gt(),I=us(),_=cs(),w=pe(),L=cn(),O=Wo(),N=ge(),M=ye(),U=Is(),F=_s(),V=ws(),x=Os(),H=Ps(),j=Ns().forEach,W=L("hidden"),G="Symbol",B="prototype",q=H.set,K=H.getterFor(G),$=Object[B],z=e.Symbol,Q=z&&z[B],X=e.RangeError,Y=e.TypeError,J=e.QObject,Z=R.f,tt=T.f,et=g.f,nt=b.f,it=i([].push),rt=w("symbols"),ot=w("op-symbols"),st=w("wks"),at=!J||!J[B]||!J[B].findChild,ut=function(t,e,n){var i=Z($,e);i&&delete $[e],tt(t,e,n),i&&t!==$&&tt($,e,i)},ct=o&&a((function(){return 7!==p(tt({},"a",{get:function(){return tt(this,"a",{value:7}).a}})).a}))?ut:tt,dt=function(t,e){var n=rt[t]=p(Q);return q(n,{type:G,tag:t,description:e}),o||(n.description=e),n},lt=function(t,e,n){t===$&&lt(ot,e,n),d(t);var i=h(e);return d(n),u(rt,i)?(n.enumerable?(u(t,W)&&t[W][i]&&(t[W][i]=!1),n=p(n,{enumerable:v(0,!1)})):(u(t,W)||tt(t,W,v(1,p(null))),t[W][i]=!0),ct(t,i,n)):tt(t,i,n)},ht=function(t,e){d(t);var i=l(e),r=E(i).concat(Et(i));return j(r,(function(e){o&&!n(ft,i,e)||lt(t,e,i[e])})),t},ft=function(t){var e=h(t),i=n(nt,this,e);return!(this===$&&u(rt,e)&&!u(ot,e))&&(!(i||!u(this,e)||!u(rt,e)||u(this,W)&&this[W][e])||i)},vt=function(t,e){var n=l(t),i=h(e);if(n!==$||!u(rt,i)||u(ot,i)){var r=Z(n,i);return!r||!u(rt,i)||u(n,W)&&n[W][i]||(r.enumerable=!0),r}},pt=function(t){var e=et(l(t)),n=[];return j(e,(function(t){u(rt,t)||u(O,t)||it(n,t)})),n},Et=function(t){var e=t===$,n=et(e?ot:l(t)),i=[];return j(n,(function(t){!u(rt,t)||e&&!u($,t)||it(i,rt[t])})),i};s||(z=function(){if(c(Q,this))throw new Y("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?f(arguments[0]):void 0,i=N(t),r=function(t){var o=void 0===this?e:this;o===$&&n(r,ot,t),u(o,W)&&u(o[W],i)&&(o[W][i]=!1);var s=v(1,t);try{ct(o,i,s)}catch(t){if(!(t instanceof X))throw t;ut(o,i,s)}};return o&&at&&ct($,i,{configurable:!0,set:r}),dt(i,t)},I(Q=z[B],"toString",(function(){return K(this).tag})),I(z,"withoutSetter",(function(t){return dt(N(t),t)})),b.f=ft,T.f=lt,k.f=ht,R.f=vt,m.f=g.f=pt,S.f=Et,U.f=function(t){return dt(M(t),t)},o&&(_(Q,"description",{configurable:!0,get:function(){return K(this).description}}),r||I($,"propertyIsEnumerable",ft,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!s,sham:!s},{Symbol:z}),j(E(st),(function(t){F(t)})),t({target:G,stat:!0,forced:!s},{useSetter:function(){at=!0},useSimple:function(){at=!1}}),t({target:"Object",stat:!0,forced:!s,sham:!o},{create:function(t,e){return void 0===e?p(t):ht(p(t),e)},defineProperty:lt,defineProperties:ht,getOwnPropertyDescriptor:vt}),t({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pt}),V(),x(z,G),O[W]=!0}(),function(){if(Fs)return Vs;Fs=1;var t=an(),e=bt(),n=me(),i=So(),r=pe(),o=xs(),s=r("string-to-symbol-registry"),a=r("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!o},{for:function(t){var r=i(t);if(n(s,r))return s[r];var o=e("Symbol")(r);return s[r]=o,a[o]=r,o}})}(),function(){if(Hs)return js;Hs=1;var t=an(),e=me(),n=Ct(),i=Pt(),r=pe(),o=xs(),s=r("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!o},{keyFor:function(t){if(!n(t))throw new TypeError(i(t)+" is not a symbol");if(e(s,t))return s[t]}})}(),function(){if(Bs)return qs;Bs=1;var t=an(),e=bt(),n=R(),i=P(),r=D(),o=A(),s=b(),a=Ct(),u=Vn(),c=Ks(),d=Lt(),l=String,h=e("JSON","stringify"),f=r(/./.exec),v=r("".charAt),p=r("".charCodeAt),E=r("".replace),m=r(1..toString),g=/[\uD800-\uDFFF]/g,y=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,T=!d||o((function(){var t=e("Symbol")("stringify detection");return"[null]"!==h([t])||"{}"!==h({a:t})||"{}"!==h(Object(t))})),k=o((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")})),I=function(t,e){var r=u(arguments),o=c(e);if(s(o)||void 0!==t&&!a(t))return r[1]=function(t,e){if(s(o)&&(e=i(o,this,l(t),e)),!a(e))return e},n(h,null,r)},_=function(t,e,n){var i=v(n,e-1),r=v(n,e+1);return f(y,t)&&!f(S,r)||f(S,t)&&!f(y,i)?"\\u"+m(p(t,0),16):t};h&&t({target:"JSON",stat:!0,arity:3,forced:T||k},{stringify:function(t,e,i){var r=u(arguments),o=n(T?I:h,null,r);return k&&"string"==typeof o?E(o,g,_):o}})}(),function(){if($s)return Qs;$s=1;var t=an(),e=Lt(),n=A(),i=as(),r=Ee();t({target:"Object",stat:!0,forced:!e||n((function(){i.f(1)}))},{getOwnPropertySymbols:function(t){var e=i.f;return e?e(r(t)):[]}})}()),yo}var Ys;var Js;var Zs;var ta,ea={};function na(){return ta||(ta=1,_s()("iterator")),ea}var ia;var ra;var oa;var sa;var aa;var ua;var ca,da={};function la(){if(ca)return da;ca=1;var t=_s(),e=ws();return t("toPrimitive"),e(),da}var ha,fa={};var va;var pa,Ea,ma,ga={};function ya(){return ma?Ea:(ma=1,function(){if(Zr)return eo;Zr=1;var t=an(),e=A(),n=no(),i=Tt(),r=Ee(),o=so(),s=ao(),a=uo(),u=po(),c=Eo(),d=ye(),l=wt(),h=d("isConcatSpreadable"),f=l>=51||!e((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=function(t){if(!i(t))return!1;var e=t[h];return void 0!==e?!!e:n(t)};t({target:"Array",proto:!0,arity:1,forced:!f||!c("concat")},{concat:function(t){var e,n,i,c,d,l=r(this),h=u(l,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(v(d=-1===e?l:arguments[e]))for(c=o(d),s(f+c),n=0;n<c;n++,f++)n in d&&a(h,f,d[n]);else s(f+1),a(h,f++,d);return h.length=f,h}})}(),Xs(),Ys||(Ys=1,_s()("asyncIterator")),Js||(Js=1,_s()("hasInstance")),Zs||(Zs=1,_s()("isConcatSpreadable")),na(),ia||(ia=1,_s()("match")),ra||(ra=1,_s()("matchAll")),oa||(oa=1,_s()("replace")),sa||(sa=1,_s()("search")),aa||(aa=1,_s()("species")),ua||(ua=1,_s()("split")),la(),function(){if(ha)return fa;ha=1;var t=bt(),e=_s(),n=Os();e("toStringTag"),n(t("Symbol"),"Symbol")}(),va||(va=1,_s()("unscopables")),function(){if(pa)return ga;pa=1;var t=y();Os()(t.JSON,"JSON",!0)}(),Ea=kt().Symbol)}var Aa,Sa,Ra,Da,Ta,ka,ba,Ia,_a,wa,La,Oa,Ca,Pa,Na,Ma,Ua,Fa,Va,xa,Ha,ja={};function Wa(){return Sa?Aa:(Sa=1,Aa=function(){})}function Ga(){return Da?Ra:(Da=1,Ra={})}function Ba(){if(ka)return Ta;ka=1;var t=C(),e=me(),n=Function.prototype,i=t&&Object.getOwnPropertyDescriptor,r=e(n,"name"),o=r&&"something"===function(){}.name,s=r&&(!t||t&&i(n,"name").configurable);return Ta={EXISTS:r,PROPER:o,CONFIGURABLE:s}}function qa(){if(Ia)return ba;Ia=1;var t,e,n,i=A(),r=b(),o=Tt(),s=zo(),a=ln(),u=us(),c=ye(),d=he(),l=c("iterator"),h=!1;return[].keys&&("next"in(n=[].keys())?(e=a(a(n)))!==Object.prototype&&(t=e):h=!0),!o(t)||i((function(){var e={};return t[l].call(e)!==e}))?t={}:d&&(t=s(t)),r(t[l])||u(t,l,(function(){return this})),ba={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:h}}function Ka(){if(wa)return _a;wa=1;var t=qa().IteratorPrototype,e=zo(),n=yt(),i=Os(),r=Ga(),o=function(){return this};return _a=function(s,a,u,c){var d=a+" Iterator";return s.prototype=e(t,{next:n(+!c,u)}),i(s,d,!1,!0),r[d]=o,s}}function $a(){if(Oa)return La;Oa=1;var t=an(),e=P(),n=he(),i=Ba(),r=b(),o=Ka(),s=ln(),a=Ni(),u=Os(),c=sn(),d=us(),l=ye(),h=Ga(),f=qa(),v=i.PROPER,p=i.CONFIGURABLE,E=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,g=l("iterator"),y="keys",A="values",S="entries",R=function(){return this};return La=function(i,l,f,D,T,k,b){o(f,l,D);var I,_,w,L=function(t){if(t===T&&M)return M;if(!m&&t&&t in P)return P[t];switch(t){case y:case A:case S:return function(){return new f(this,t)}}return function(){return new f(this)}},O=l+" Iterator",C=!1,P=i.prototype,N=P[g]||P["@@iterator"]||T&&P[T],M=!m&&N||L(T),U="Array"===l&&P.entries||N;if(U&&(I=s(U.call(new i)))!==Object.prototype&&I.next&&(n||s(I)===E||(a?a(I,E):r(I[g])||d(I,g,R)),u(I,O,!0,!0),n&&(h[O]=R)),v&&T===A&&N&&N.name!==A&&(!n&&p?c(P,"name",A):(C=!0,M=function(){return e(N,this)})),T)if(_={values:L(A),keys:k?M:L(y),entries:L(S)},b)for(w in _)(m||C||!(w in P))&&d(P,w,_[w]);else t({target:l,proto:!0,forced:m||C},_);return n&&!b||P[g]===M||d(P,g,M,{name:T}),h[l]=M,_}}function za(){return Pa?Ca:(Pa=1,Ca=function(t,e){return{value:t,done:e}})}function Qa(){if(Ma)return Na;Ma=1;var t=Dt(),e=Wa(),n=Ga(),i=Ps(),r=on().f,o=$a(),s=za(),a=he(),u=C(),c="Array Iterator",d=i.set,l=i.getterFor(c);Na=o(Array,"Array",(function(e,n){d(this,{type:c,target:t(e),index:0,kind:n})}),(function(){var t=l(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,s(void 0,!0);switch(t.kind){case"keys":return s(n,!1);case"values":return s(e[n],!1)}return s([n,e[n]],!1)}),"values");var h=n.Arguments=n.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&"values"!==h.name)try{r(h,"name",{value:"values"})}catch(t){}return Na}function Xa(){return Fa?Ua:(Fa=1,Ua={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0})}function Ya(){if(Va)return ja;Va=1,Qa();var t=Xa(),e=y(),n=Os(),i=Ga();for(var r in t)n(e[r],r),i[r]=i.Array;return ja}function Ja(){if(Ha)return xa;Ha=1;var t=ya();return Ya(),xa=t}var Za,tu={};var eu;var nu;var iu,ru,ou;function su(){if(ou)return ru;ou=1;var t=Ja();return function(){if(Za)return tu;Za=1;var t=ye(),e=on().f,n=t("metadata"),i=Function.prototype;void 0===i[n]&&e(i,n,{value:null})}(),eu||(eu=1,_s()("asyncDispose")),nu||(nu=1,_s()("dispose")),iu||(iu=1,_s()("metadata")),ru=t}var au,uu,cu;function du(){if(uu)return au;uu=1;var t=bt(),e=D(),n=t("Symbol"),i=n.keyFor,r=e(n.prototype.valueOf);return au=n.isRegisteredSymbol||function(t){try{return void 0!==i(r(t))}catch(t){return!1}}}var lu,hu,fu;function vu(){if(hu)return lu;hu=1;for(var t=pe(),e=bt(),n=D(),i=Ct(),r=ye(),o=e("Symbol"),s=o.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=n(o.prototype.valueOf),c=t("wks"),d=0,l=a(o),h=l.length;d<h;d++)try{var f=l[d];i(o[f])&&r(f)}catch(t){}return lu=function(t){if(s&&s(t))return!0;try{for(var e=u(t),n=0,i=a(c),r=i.length;n<r;n++)if(c[i[n]]==e)return!0}catch(t){}return!1},lu}var pu;var Eu;var mu;var gu;var yu;var Au;var Su;var Ru,Du,Tu,ku,bu;function Iu(){if(Tu)return Du;Tu=1;var t=su();return cu||(cu=1,an()({target:"Symbol",stat:!0},{isRegisteredSymbol:du()})),fu||(fu=1,an()({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:vu()})),pu||(pu=1,_s()("customMatcher")),Eu||(Eu=1,_s()("observable")),mu||(mu=1,an()({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:du()})),gu||(gu=1,an()({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:vu()})),yu||(yu=1,_s()("matcher")),Au||(Au=1,_s()("metadataKey")),Su||(Su=1,_s()("patternMatch")),Ru||(Ru=1,_s()("replaceAll")),Du=t}function _u(){return bu?ku:(bu=1,ku=Iu())}var wu,Lu,Ou,Cu,Pu,Nu,Mu,Uu,Fu,Vu,xu,Hu,ju,Wu=e(_u()),Gu={};function Bu(){if(Lu)return wu;Lu=1;var t=D(),e=ro(),n=So(),i=Rt(),r=t("".charAt),o=t("".charCodeAt),s=t("".slice),a=function(t){return function(a,u){var c,d,l=n(i(a)),h=e(u),f=l.length;return h<0||h>=f?t?"":void 0:(c=o(l,h))<55296||c>56319||h+1===f||(d=o(l,h+1))<56320||d>57343?t?r(l,h):c:t?s(l,h,h+2):d-56320+(c-55296<<10)+65536}};return wu={codeAt:a(!1),charAt:a(!0)}}function qu(){return Pu?Cu:(Pu=1,Qa(),function(){if(Ou)return Gu;Ou=1;var t=Bu().charAt,e=So(),n=Ps(),i=$a(),r=za(),o="String Iterator",s=n.set,a=n.getterFor(o);i(String,"String",(function(t){s(this,{type:o,string:e(t),index:0})}),(function(){var e,n=a(this),i=n.string,o=n.index;return o>=i.length?r(void 0,!0):(e=t(i,o),n.index+=e.length,r(e,!1))}))}(),na(),Cu=Is().f("iterator"))}function Ku(){if(Mu)return Nu;Mu=1;var t=qu();return Ya(),Nu=t}function $u(){return Fu?Uu:(Fu=1,Uu=Ku())}function zu(){return xu?Vu:(xu=1,Vu=$u())}function Qu(){return ju?Hu:(ju=1,Hu=zu())}var Xu,Yu,Ju,Zu,tc,ec,nc,ic,rc,oc,sc=e(Qu());function ac(t){return ac="function"==typeof Wu&&"symbol"==typeof sc?function(t){return typeof t}:function(t){return t&&"function"==typeof Wu&&t.constructor===Wu&&t!==Wu.prototype?"symbol":typeof t},ac(t)}function uc(){return Yu?Xu:(Yu=1,la(),Xu=Is().f("toPrimitive"))}function cc(){return Zu?Ju:(Zu=1,Ju=uc())}function dc(){return ec?tc:(ec=1,tc=cc())}function lc(){return ic?nc:(ic=1,nc=dc())}function hc(){return oc?rc:(oc=1,rc=lc())}var fc=e(hc());function vc(t){var e=function(t,e){if("object"!=ac(t)||!t)return t;var n=t[fc];if(void 0!==n){var i=n.call(t,e);if("object"!=ac(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ac(e)?e:e+""}function pc(t,e,n){return(e=vc(e))in t?to(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ec(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),to(t,vc(i.key),i)}}function mc(t,e,n){return e&&Ec(t.prototype,e),n&&Ec(t,n),to(t,"prototype",{writable:!1}),t}function gc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yc(t,e){if(e&&("object"==ac(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}var Ac,Sc,Rc,Dc,Tc,kc,bc,Ic,_c,wc,Lc;function Oc(){if(Rc)return Sc;Rc=1,Ac||(Ac=1,an()({target:"Object",stat:!0,sham:!C()},{create:zo()}));var t=kt().Object;return Sc=function(e,n){return t.create(e,n)}}function Cc(){return Tc?Dc:(Tc=1,Dc=Oc())}function Pc(){return bc?kc:(bc=1,kc=Cc())}function Nc(){return _c?Ic:(_c=1,Ic=Pc())}function Mc(){return Lc?wc:(Lc=1,wc=Nc())}var Uc,Fc,Vc,xc,Hc,jc,Wc,Gc,Bc,qc,Kc,$c,zc,Qc,Xc,Yc,Jc,Zc,td,ed,nd,id,rd,od,sd=e(Mc());function ad(t,e){var n;return ad=Yi?ii(n=Yi).call(n):function(t,e){return t.__proto__=e,t},ad(t,e)}function ud(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=sd(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),to(t,"prototype",{writable:!1}),e&&ad(t,e)}function cd(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function dd(t,e){return t.get(hd(t,e))}function ld(t,e,n){return t.set(hd(t,e),n),n}function hd(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function fd(t,e,n){return e=or(e),yc(t,vd()?Reflect.construct(e,n||[],or(t).constructor):e.apply(t,n))}function vd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vd=function(){return!!t})()}!function(t){t.READY="ready",t.RENDERED="rendered",t.VIEWABLED="viewable",t.HOSTMETA_CHANGED="hostMetaChange",t.POSITION_UPDATED="pos-update",t.EXPOSURE_CHANGED="exposureChanged",t.VIDEO_CONTROLLER_EVENT="videoControllerEvent",t.DESTROYED="destroyed"}(Uc||(Uc={})),function(t){t[t.PICKED=0]="PICKED",t[t.REQUESTED=1]="REQUESTED",t[t.LOADED=2]="LOADED",t[t.AD_START_REQUESTED=3]="AD_START_REQUESTED",t[t.RENDERED=4]="RENDERED",t[t.DESTROYED=5]="DESTROYED"}(Fc||(Fc={})),function(t){t.READY="ready",t.RENDERED="rendered",t.VIEWABLED="viewabled",t.HOSTMETA_CHANGED="hostMetaChanged",t.EXPOSURE_CHANGED="exposureChanged",t.POSITION_UPDATED="positionUpdated",t.STATE_CHANGED="stateChanged",t.DESTROYED="destroyed",t.LEGACY_VIEWABLED="viewable",t.LEGACY_HOSTMETA_CHANGED="hostMetaChange",t.LEGACY_POSITION_UPDATED="pos-update"}(Vc||(Vc={})),function(t){t.BANNER="BANNER",t.NATIVE="NATIVE",t.VIDEO="VIDEO"}(xc||(xc={})),function(t){t.ACK_IMPRESSION="ACK_IMPRESSION",t.CLICKED="CLICKED",t.RENDERED_IMPRESSION="RENDERED_IMPRESSION",t.VIEWABLE_IMPRESSION="VIEWABLE_IMPRESSION",t.LOAD_ERROR="LOAD_ERROR",t.START_ERROR="START_ERROR",t.VIMP_1PX="VIMP_1PX",t.VIMP_100="VIMP_100",t.VIMP_100P="VIMP_100P",t.AD_MUTE="AD_MUTE",t.ADVERTISER_MUTE="ADVERTISER_MUTE",t.BOUNCE_BACK="BOUNCE_BACK",t.MUTE="MUTE"}(Hc||(Hc={})),function(t){t.MALE="M",t.FEMALE="F",t.UNKNOWN="O"}(jc||(jc={})),function(t){t[t.INTERNAL_ERROR=1e3]="INTERNAL_ERROR",t[t.INIT_ERROR=2e3]="INIT_ERROR",t[t.INIT_ERROR_INVALID_PARAM=2100]="INIT_ERROR_INVALID_PARAM",t[t.INIT_ERROR_AD_PROVIDER=2200]="INIT_ERROR_AD_PROVIDER",t[t.LOAD_ERROR=3e3]="LOAD_ERROR",t[t.LOAD_ERROR_INVALID_PARAM=3100]="LOAD_ERROR_INVALID_PARAM",t[t.LOAD_ERROR_INVALID_PARAM_AD_UNIT_ID=3110]="LOAD_ERROR_INVALID_PARAM_AD_UNIT_ID",t[t.LOAD_ERROR_INVALID_PARAM_AD_PARAM=3120]="LOAD_ERROR_INVALID_PARAM_AD_PARAM",t[t.LOAD_ERROR_WATERFALL_LIST=3200]="LOAD_ERROR_WATERFALL_LIST",t[t.LOAD_ERROR_WATERFALL_LIST_REQUEST_FAILED=3210]="LOAD_ERROR_WATERFALL_LIST_REQUEST_FAILED",t[t.LOAD_ERROR_WATERFALL_LIST_PARSE_FAILED=3220]="LOAD_ERROR_WATERFALL_LIST_PARSE_FAILED",t[t.LOAD_ERROR_AD_SELECTION=3300]="LOAD_ERROR_AD_SELECTION",t[t.LOAD_ERROR_AD_SELECTION_NO_FILL=3310]="LOAD_ERROR_AD_SELECTION_NO_FILL",t[t.LOAD_FAILED_TIMEOUT=3400]="LOAD_FAILED_TIMEOUT",t[t.START_ERROR=4e3]="START_ERROR",t[t.START_ERROR_MEDIA_START=4100]="START_ERROR_MEDIA_START",t[t.START_ERROR_MEDIA_START_FAILED=4110]="START_ERROR_MEDIA_START_FAILED",t[t.VIDEO_SCHEDULE_ERROR=9e3]="VIDEO_SCHEDULE_ERROR",t[t.VIDEO_SCHEDULE_PARAM_ERROR=9100]="VIDEO_SCHEDULE_PARAM_ERROR",t[t.VIDEO_SCHEDULE_MISSING_AD_SCHEDULE_ID_ERROR=9110]="VIDEO_SCHEDULE_MISSING_AD_SCHEDULE_ID_ERROR",t[t.VIDEO_SCHEDULE_INVALID_AD_SCHEDULE_PARAM_ERROR=9120]="VIDEO_SCHEDULE_INVALID_AD_SCHEDULE_PARAM_ERROR",t[t.VIDEO_SCHEDULE_REQUEST_ERROR=9210]="VIDEO_SCHEDULE_REQUEST_ERROR",t[t.VIDEO_SCHEDULE_PARSE_ERROR=9220]="VIDEO_SCHEDULE_PARSE_ERROR"}(Wc||(Wc={})),function(t){t.UNSPECIFIED="GFP_UNSPECIFIED_ERROR",t.NETWORK_ERROR="GFP_NETWORK_ERROR",t.SERVER_ERROR="GFP_SERVER_ERROR",t.INTERNAL_ERROR="GFP_INTERNAL_ERROR",t.ADAPTER_LOAD_TIMEOUT="GFP_ADAPTER_LOAD_TIMEOUT",t.REQUEST_TIMEOUT="GFP_REQUEST_TIMEOUT",t.NOT_REGISTERED_PROVIDER="GFP_NOT_REGISTERED_PROVIDER",t.NOT_FOUND_UNKNOWN_ADAPTER="GFP_NOT_FOUND_UNKNOWN_ADAPTER",t.NOT_FOUND_BANNER_ADAPTER="GFP_NOT_FOUND_BANNER_ADAPTER",t.NOT_FOUND_NATIVE_ADAPTER="GFP_NOT_FOUND_NATIVE_ADAPTER",t.GFP_NOT_FOUND_VIDEO_ADAPTER="GFP_NOT_FOUND_VIDEO_ADAPTER",t.MISSING_PARAM="GFP_MISSING_PARAM",t.RECEIVED_INVALID_PROPERTY="GFP_RECEIVED_INVALID_PROPERTY",t.AD_SCHEDULE_EMPTY="AD_SCHEDULE_EMPTY",t.NO_FILL="GFP_NO_FILL",t.INVALID_WATERFALL_RESPONSE="GFP_INVALID_WATERFALL_RESPONSE"}(Gc||(Gc={})),function(t){t[t.ERROR=0]="ERROR",t[t.SUCCESS=1]="SUCCESS",t[t.NO_FILL=2]="NO_FILL",t[t.TIMEOUT=3]="TIMEOUT"}(Bc||(Bc={})),function(t){t[t.WEB=0]="WEB",t[t.IOS=1]="IOS",t[t.ANDROID=2]="ANDROID"}(qc||(qc={})),function(t){t.FLUID="FLUID",t.PIXEL="PIXEL"}(Kc||(Kc={})),function(t){t.SF_LOADED="sf-loaded",t.SF_CB_REGISTERED="sf-cb-registered",t.SF_RESIZED="sf-resized",t.SF_TOUCHSTARTED="sf-touchstarted",t.SF_CLICKED="sf-clicked",t.SF_NATIVE_AD_MUTE_CLICKED="sf-native-ad-mute-clicked",t.SF_NATIVE_ADV_MUTE_CLICKED="sf-native-adv-mute-clicked",t.SF_NATIVE_SLOT_EVENT="sf-native-slot-event",t.SF_ERROR="sf-error",t.SF_INIT="sf-init",t.SF_REQUEST_RESIZE="sf-request-resize",t.SF_REQUEST_EXPAND="sf-request-expand",t.SF_REQUEST_COLLAPSE="sf-request-collapse",t.SF_AD_MUTE_COMPLETED="sf-ad-mute-completed",t.SF_AD_MUTE_STATE_CHANGED="sf-ad-mute-state-changed",t.SF_AD_MUTE_PRIVACY_CLICKED="sf-ad-mute-privacy-clicked",t.SF_AD_MUTE_TOUCHSTARTED="sf-ad-mute-touchstarted",t.SF_AD_MUTE_TOUCHENDED="sf-ad-mute-touchended",t.SF_EXPOSURE_CHANGE_SETTING="sf-exposure-change-setting",t.SF_OUTSTREAM_EVENT="sf-outstream-event",t.SF_NOTIFY_ADMETA="sf-notify-admeta"}($c||($c={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.ETHERNET=1]="ETHERNET",t[t.WIFI=2]="WIFI",t[t.CELLULAR_UNKNOWN=3]="CELLULAR_UNKNOWN",t[t.CELLULAR_2G=4]="CELLULAR_2G",t[t.CELLULAR_3G=5]="CELLULAR_3G",t[t.CELLULAR_4G=6]="CELLULAR_4G"}(zc||(zc={})),function(t){t.WIFI="WIFI",t.CELL="CELL"}(Qc||(Qc={})),function(t){t.CELLULAR="cellular",t.ETHERNET="ethernet",t.WIFI="wifi"}(Xc||(Xc={})),function(t){t.CELLULAR_2G="2g",t.CELLULAR_3G="3g",t.CELLULAR_4G="4g"}(Yc||(Yc={})),function(t){t.NDA_BANNER_SF="SF",t.NDA_BANNER_NDP="NDP",t.NDA_BANNER_JS="JS",t.GOOGLE_BANNER="GOOGLE_GPT",t.TEADS_BANNER="TEADS",t.NATIVE_SIMPLE="NS",t.NATIVE_NORMAL="NN",t.NATIVE_COMPOSITE="NC",t.GV="GV",t.GOOGLE_IMA="GOOGLE_IMA",t.EMPTY="EMPTY"}(Jc||(Jc={})),function(t){t[t.DISABLED=0]="DISABLED",t[t.ENABLED=1]="ENABLED"}(Zc||(Zc={})),function(t){t.DARK="dark",t.LIGHT="light",t.SYSTEM="system"}(td||(td={})),function(t){t.IMPRESSED_1PX="IMPRESSED_1PX",t.IMPRESSED_100P="IMPRESSED_100P",t.IMPRESSED_100P_WITH_DURATION_1S="IMPRESSED_100P_WITH_DURATION_1S",t.IMPRESSED_50P_WITH_DURATION_2S="IMPRESSED_50P_WITH_DURATION_2S",t.VIEWABLE_IMPRESSED="VIEWABLE_IMPRESSED",t.EXPOSURE_CHANGED="EXPOSURE_CHANGED"}(ed||(ed={})),function(t){t[t.INIT=0]="INIT",t[t.RENDERED=1]="RENDERED"}(nd||(nd={})),function(t){t.AD_MUTE_COMPLETED="AD_MUTE_COMPLETED",t.MUTE_STATE_CHANGED="MUTE_STATE_CHANGED",t.TOUCH_STARTED="TOUCH_STARTED",t.TOUCH_ENDED="TOUCH_ENDED"}(id||(id={})),function(t){t.SF="SF",t.NDP_JS="NDP_JS",t.IN_APP="IN_APP",t.NO_SUPPORT="NO_SUPPORT"}(rd||(rd={})),function(t){t.INIT="init",t.FEEDBACK_ON="feedbackOn",t.QUESTION="question",t.RESULT="result"}(od||(od={}));let pd=function(){return mc((function t(e=[]){gc(this,t),pc(this,"commands",void 0),pc(this,"isTriggerd",void 0),pc(this,"isWorking",void 0),this.commands=e,this.isTriggerd=!1,this.isWorking=!1}),[{key:"push",value:function(t){this.commands.push(t),this.isTriggerd&&!this.isWorking&&this.execute()}},{key:"forceExecuteCommands",value:function(){this.isTriggerd=!0,this.isWorking||this.execute()}},{key:"execute",value:async function(){for(;this.commands.length>0;){const t=this.commands.shift();if("function"==typeof t)try{this.isWorking=!0,await t()}catch(t){}finally{this.isWorking=!1}}}}])}();const Ed=()=>window.navigator.userAgent.toLowerCase(),md=()=>/Windows/i.test(Ed()),gd=()=>/Macintosh/i.test(Ed()),yd=()=>/iPad/i.test(Ed())||(()=>{const t=window.navigator;return Boolean(t&&t.platform&&(-1!==t.platform.indexOf("iPad")||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream))})(),Ad=()=>/iPhone/i.test(Ed())||yd()||/iPod/i.test(Ed()),Sd=()=>/Android/i.test(Ed()),Rd=()=>/Windows Phone|Windows CE/i.test(Ed()),Dd=()=>/Tizen/i.test(Ed()),Td=()=>void 0!==window.opera||/Opera/i.test(Ed()),kd=()=>/Edg/i.test(Ed()),bd=()=>/Firefox/i.test(Ed()),Id=()=>/Whale/i.test(Ed()),_d=()=>/Chrome|CriOS/i.test(Ed()),wd=()=>!/Chrome|CriOS/i.test(Ed())&&(Ed()||"").indexOf("safari")>-1,Ld=()=>/AppleWebKit/i.test(Ed()),Od=()=>!!Ed().match(/(?:(MSIE) |(Trident)\/.+rv[ :])([\w.]+)/i),Cd=()=>/NAVER\((inapp|higgs);\s?search;\s?/i.test(Ed()),Pd=()=>/SamsungBrowser/i.test(Ed()),Nd=()=>/\bLine\b/i.test(Ed()),Md=()=>/EdgA/i.test(Ed()),Ud=()=>/EdgiOS/i.test(Ed()),Fd=()=>Od()?"IE":Cd()?"Naver App":Pd()?"SamsungBrowser":Nd()?"Line App":Md()?"Android Edge":Ud()?"IOS Edge":/IEMobile/i.test(Ed())?"IE Mobile":/Opera Mini/i.test(Ed())?"Opera Mini":/Dolfin/i.test(Ed())?"Dolfin":Td()?"Opera":kd()?"Edge":bd()?"Firefox":Id()?"Whale":_d()?"Chrome":wd()?"Safari":Ld()?"WebKit":"an unknown browser",Vd=t=>{try{return"string"==typeof t?encodeURIComponent(t.replace(/[^\p{L}\p{N}\p{P}\p{Z}~`|$^+=<>]/gu,"")):encodeURIComponent(t)}catch(t){return""}},xd=()=>{const t=document.location.href;return t.length>255?t.substring(0,255):t},Hd=t=>t?Array.from(t).reduce(((t,[e,n])=>Object.assign(t,{[e]:n})),{}):{},jd=t=>t.filter(((t,e,n)=>n.indexOf(t)===e)),Wd=t=>{const e={};for(const i in t){const r=t[i];Array.isArray(r)?e[i]=r.map((t=>Wd(t))):(n=r,e[i]="object"==typeof n&&null!=n?Wd(r):r)}var n;return e},Gd=()=>String(7852516352*Number("0."+Bd())),Bd=()=>{const t=new Uint32Array(1),e=window?.crypto??window?.msCrypto;return e?.getRandomValues(t),t[0]},qd=t=>{try{return t()}catch{return null}},Kd=t=>!t||0===t.length||/^\s*$/.test(t),$d=t=>!Kd(t),zd=t=>{let e=t;if(null===e)return!0;if("number"==typeof e||"boolean"==typeof e||"function"==typeof e)return!1;"string"==typeof e&&(e=e.trim());for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},Qd=t=>{const e=Object.keys(t).reduce(((e,n)=>{if(zd(n))return e;const i=t[n];if(Array.isArray(i)){if(0===i.length)return e;{const t=i.filter((t=>!zd(t)));e[n]=t}}else zd(i)||(e[n]=i);return e}),{});return Object.keys(e).map((t=>`${Vd(String(t).trim())}:${Vd(Array.isArray(e[t])?e[t].map((t=>String(t).trim())).join("|"):String(e[t]).trim())}`)).join(",")},Xd=t=>{if(!t)return"";return Object.entries(t).reduce(((t,e)=>{const[n,i]=e,r=`${n}=${Vd(i)}`;return t?`${t}&${r}`:r}),"")};function Yd(t,e){try{if(!e||"function"!=typeof window.btoa||"function"!=typeof window.atob)return t;const n=window.btoa(window.btoa(window.btoa(t)));return window.atob(window.atob(window.atob(n)))!==t?t:"/"===e.at(-1)?`${e}${n}`:`${e}/${n}`}catch{return t}}let Jd=function(){return mc((function t(e,n){gc(this,t),pc(this,"baseURL",void 0),pc(this,"tunnelURL",void 0),this.baseURL=e,this.tunnelURL=n}),[{key:"get",value:async function(t,{cancelSource:e,params:n,timeout:i,browsingTopics:r}){const o=Xd(n);let s=this.baseURL+t;s+=(-1===s.indexOf("?")?"?":"&")+o,this.tunnelURL&&(s=Yd(s,this.tunnelURL));const a=r&&"function"==typeof document.browsingTopics,u=await fetch(s,{method:"GET",credentials:"include",...a&&{browsingTopics:!0},signal:AbortSignal.any([AbortSignal.timeout(i),e.getToken()])});return await u.json()}},{key:"post",value:async function(t,{cancelSource:e,params:n,timeout:i}){const r=this.baseURL+t,o=await fetch(r,{method:"POST",credentials:"include",signal:AbortSignal.any([AbortSignal.timeout(i),e.getToken()]),body:JSON.stringify(n)});return await o.json()}}],[{key:"getCancelSource",value:function(){return new Zd}}])}(),Zd=function(){return mc((function t(){gc(this,t),pc(this,"abortController",void 0),this.abortController=new AbortController}),[{key:"isCanceled",get:function(){return this.abortController.signal.aborted}},{key:"cancel",value:function(){this.abortController.abort()}},{key:"getToken",value:function(){return this.abortController.signal}}])}(),tl=function(){return mc((function t(e,n){gc(this,t),pc(this,"baseURL",void 0),pc(this,"tunnelURL",void 0),this.baseURL=e,this.tunnelURL=n}),[{key:"get",value:async function(t,{cancelSource:e,params:n,timeout:i}){const r=Xd(n);let o=this.baseURL+t;return o+=(-1===o.indexOf("?")?"?":"&")+r,this.tunnelURL&&(o=Yd(o,this.tunnelURL)),this.createXhr("GET",o,e,i)}},{key:"post",value:async function(t,{cancelSource:e,params:n,timeout:i}){const r=this.baseURL+t;return this.createXhr("POST",r,e,i,JSON.stringify(n))}},{key:"createXhr",value:function(t,e,n,i,r){return new Promise(((o,s)=>{let a=new XMLHttpRequest;a.open(t,e,!0),a.withCredentials=!0,a.timeout=i;const u=()=>{a&&(s(new Error("Request canceled")),a.abort(),a=null)},c=()=>{n.unsubscribe(u),a=null};a.onload=()=>{a&&(a.status>=200&&a.status<300?o(JSON.parse(a.responseText)):s(new Error(`Request failed with status code ${a.status}`)),c())},a.onabort=()=>{a&&(s(new Error("Request aborted")),c())},a.onerror=()=>{a&&(s(new Error("Network Error")),c())},a.ontimeout=()=>{a&&(s(new Error(`timeout of ${a.timeout}ms exceeded`)),c())},n.subscribe(u),a.send(r)}))}}],[{key:"getCancelSource",value:function(){return new el}}])}(),el=function(){return mc((function t(){gc(this,t),pc(this,"_isCanceled",void 0),pc(this,"listeners",void 0),this._isCanceled=!1}),[{key:"subscribe",value:function(t){this._isCanceled?t():this.listeners?this.listeners.push(t):this.listeners=[t]}},{key:"unsubscribe",value:function(t){if(!this.listeners)return;const e=this.listeners.findIndex((e=>e===t));-1!==e&&this.listeners.splice(e,1)}},{key:"isCanceled",get:function(){return this._isCanceled}},{key:"cancel",value:function(){this._isCanceled=!0,this.listeners?.forEach((t=>{t()})),this.listeners=void 0}}])}(),nl=function(){function t(e,n){gc(this,t),pc(this,"httpAdapter",void 0),pc(this,"baseUrl",void 0),this.baseUrl=e,this.httpAdapter=t.shouldUseXHRAdapter()?new tl(e,n):new Jd(e,n)}return mc(t,[{key:"get",value:async function(t,e){return this.httpAdapter.get(t,e)}},{key:"post",value:async function(t,e){return this.httpAdapter.post(t,e)}}],[{key:"shouldUseXHRAdapter",value:function(){return"function"!=typeof window?.fetch||"function"!=typeof AbortSignal?.any}},{key:"getCancelSource",value:function(){return t.shouldUseXHRAdapter()?tl.getCancelSource():Jd.getCancelSource()}}])}(),il=function(){return mc((function t(e,n,i,r){gc(this,t),pc(this,"url",void 0),pc(this,"encrypted",void 0),pc(this,"params",void 0),pc(this,"tunnelUrl",void 0),this.url=e,this.encrypted=n??"",this.params=i??{},this.tunnelUrl=r??""}),[{key:"getCleanParams",value:function(){return Object.keys(this.params).filter((t=>t&&!zd(this.params[t]))).filter((t=>"string"!=typeof this.params[t]||$d(this.params[t].toString()))).reduce(((t,e)=>({...t,[e]:String(this.params[e])})),{})}}])}(),rl=function(){function t(){return gc(this,t),fd(this,t,arguments)}return ud(t,il),mc(t,[{key:"getTrackingUrl",value:function(){let t=`${this.url}${this.encrypted}`;const e=Object.keys(this.getCleanParams()).map((t=>`${t}=${Vd(this.params[t])}`)).join("&");zd(e)||(t=`${t}?${e}`);const n=this.getTimestamp();return t=t.indexOf("?")>=0?`${t}&dummy=${n}`:`${t}?dummy=${n}`,this.tunnelUrl&&(t=Yd(t,this.tunnelUrl)),t}},{key:"getTimestamp",value:function(){return(+new Date).toString()}}])}(),ol=function(){function t(){gc(this,t)}return mc(t,null,[{key:"isAvailable",value:function(){return!!t.getNativeURLSearchParams()}},{key:"getNativeURLSearchParams",value:function(){return window.URLSearchParams}}])}(),sl=function(){function t(){return gc(this,t),fd(this,t,arguments)}return ud(t,il),mc(t,[{key:"callTrackingUrl",value:function(){const t=this.isPuppeteerEnv()?this.getURLSearchParamsData():this.getBlobData();this.tunnelUrl?window.navigator.sendBeacon(Yd(this.url,this.tunnelUrl),t):window.navigator.sendBeacon(this.url,t)}},{key:"isPuppeteerEnv",value:function(){try{return window.navigator.userAgent?.includes("PUPPETEER")}catch(t){}return!1}},{key:"getBlobData",value:function(){const t={...this.getCleanParams(),data:this.encrypted},e=Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&");return new Blob([e],{type:"application/x-www-form-urlencoded;charset=UTF-8"})}},{key:"getURLSearchParamsData",value:function(){return new(ol.getNativeURLSearchParams())({...this.getCleanParams(),data:this.encrypted})}}])}(),al=function(){function t(){return gc(this,t),fd(this,t,arguments)}return ud(t,rl),mc(t,[{key:"callTrackingUrl",value:function(){const t=this.getTrackingUrl();this.sendXHRRequest(t).then((t=>{})).catch((t=>{}))}},{key:"sendXHRRequest",value:function(t){return new Promise(((e,n)=>{const i=new XMLHttpRequest;i.open("GET",t),i.onabort=()=>n("Request Aborted"),i.onerror=()=>n("Network Error"),i.onreadystatechange=()=>{if(!i||4!==i.readyState)return;const t=i.status;if(t>=200&&t<300){const n=i.response;e({status:t,data:n})}else n("Request Failed")},i.send()}))}}])}(),ul=function(){function t(){gc(this,t)}return mc(t,null,[{key:"create",value:function(e,n,i,r){return navigator.sendBeacon&&t.isPOSTMethod(e)&&ol.isAvailable()&&!r?new sl(e,n,i,r):new al(e,n,i,r)}},{key:"isPOSTMethod",value:function(t){return new RegExp(/((tivan.naver)|(t.naverads)).com\/sc\d?\/\d+/).test(t)}}])}();const cl={ratio:.5,ms:1e3},dl=t=>{if(!t)return cl;const e=Number(t.ms),n=Number(t.ratio);return!isNaN(e)&&!isNaN(n)&&n>=0&&n<=100?{ratio:n/100,ms:e}:cl},ll={capture:!0},hl=["pageshow","focus","blur","visibilitychange","resume"];let fl=function(){return mc((function t(e){gc(this,t),pc(this,"state",void 0),pc(this,"handler",void 0),pc(this,"checkAndUpdateState",(()=>{this.setState(this.checkDocumentState())})),pc(this,"onFreeze",(()=>{this.setState("frozen")})),pc(this,"onPageHide",(t=>{this.setState(t.persisted?"frozen":"terminated")})),this.state=this.checkDocumentState(),this.handler=e}),[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(t){this.state!==t&&(this.state=t,this.dispatch(this.state))}},{key:"dispatch",value:function(t){try{this.handler(t)}catch(t){}}},{key:"checkDocumentState",value:function(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}},{key:"addWindowEvent",value:function(){hl.forEach((t=>{window.addEventListener(t,this.checkAndUpdateState,ll)})),window.addEventListener("freeze",this.onFreeze,ll),window.addEventListener("pagehide",this.onPageHide,ll)}},{key:"removeWindowEvent",value:function(){hl.forEach((t=>{window.removeEventListener(t,this.checkAndUpdateState,ll)})),window.removeEventListener("freeze",this.onFreeze,ll),window.removeEventListener("pagehide",this.onPageHide,ll)}}])}(),vl=function(){return mc((function t(e,n,i=cl){gc(this,t),pc(this,"target",void 0),pc(this,"visibilityObserverListener",void 0),pc(this,"viewableImpressionConfig",void 0),pc(this,"visibleTimeout",void 0),pc(this,"visibleTimeout100p1s",void 0),pc(this,"visibleTimeout50p2s",void 0),pc(this,"isViewableImpressed",void 0),pc(this,"isImpressed1px",void 0),pc(this,"isImpressed100p",void 0),pc(this,"isImpressed100p1s",void 0),pc(this,"isImpressed50p2s",void 0),pc(this,"isIntersecting",void 0),pc(this,"intersectionRatio",void 0),this.target=e,this.visibilityObserverListener=n,this.viewableImpressionConfig=i,this.isViewableImpressed=!1,this.isImpressed1px=!1,this.isImpressed100p=!1,this.isImpressed100p1s=!1,this.isImpressed50p2s=!1,this.isIntersecting=!1,this.intersectionRatio=0}),[{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"onChangeIntersection",value:function(t,e){this.visibilityObserverListener.dispatch(ed.EXPOSURE_CHANGED,{target:this.target,isIntersecting:t,intersectionRatio:e}),this.isIntersecting=t,this.intersectionRatio=e,this.checkImpressed()}},{key:"checkImpressed",value:function(){this.checkImpressed1px(),this.checkImpressed100p(),this.checkImpressed100p1s(),this.checkImpressed50p2s(),this.checkViewableImpressed()}},{key:"checkImpressed1px",value:function(){!this.isImpressed1px&&this.intersectionRatio>0&&(this.isImpressed1px=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_1PX,{target:this.target}))}},{key:"checkImpressed100p",value:function(){this.isImpressed100p||1!==this.intersectionRatio||(this.isImpressed100p=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_100P,{target:this.target}))}},{key:"checkImpressed100p1s",value:function(){this.isImpressed100p1s||(1===this.intersectionRatio?this.visibleTimeout100p1s||(this.visibleTimeout100p1s=window.setTimeout((()=>{this.isImpressed100p1s=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_100P_WITH_DURATION_1S,{target:this.target})}),1e3)):this.visibleTimeout100p1s&&(clearTimeout(this.visibleTimeout100p1s),this.visibleTimeout100p1s=void 0))}},{key:"checkImpressed50p2s",value:function(){this.isImpressed50p2s||(!this.visibleTimeout50p2s&&this.intersectionRatio>=.5?this.visibleTimeout50p2s=window.setTimeout((()=>{this.isImpressed50p2s=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_50P_WITH_DURATION_2S,{target:this.target})}),2e3):this.visibleTimeout50p2s&&(clearTimeout(this.visibleTimeout50p2s),this.visibleTimeout50p2s=void 0))}},{key:"checkViewableImpressed",value:function(){this.isViewableImpressed||(this.intersectionRatio>0&&this.intersectionRatio>=this.viewableImpressionConfig.ratio?this.visibleTimeout||(this.visibleTimeout=window.setTimeout((()=>{this.isViewableImpressed=!0,this.visibilityObserverListener.dispatch(ed.VIEWABLE_IMPRESSED,{target:this.target})}),this.viewableImpressionConfig.ms)):this.visibleTimeout&&(clearTimeout(this.visibleTimeout),this.visibleTimeout=void 0))}},{key:"clearTimer",value:function(){this.visibleTimeout&&(window.clearTimeout(this.visibleTimeout),this.visibleTimeout=void 0),this.visibleTimeout100p1s&&(window.clearTimeout(this.visibleTimeout100p1s),this.visibleTimeout100p1s=void 0),this.visibleTimeout50p2s&&(window.clearTimeout(this.visibleTimeout50p2s),this.visibleTimeout50p2s=void 0)}}])}(),pl=function(){function t(e,n,i){var r;return gc(this,t),pc(r=fd(this,t,[e,n,i]),"pageLifeCycleManager",void 0),pc(r,"pageLifeCycleState",void 0),pc(r,"checkState",(t=>{r.pageLifeCycleState=t,r.checkImpressed()})),r.pageLifeCycleManager=new fl(r.checkState),r}return ud(t,vl),mc(t,[{key:"start",value:function(){this.pageLifeCycleManager.addWindowEvent()}},{key:"stop",value:function(){this.pageLifeCycleManager.removeWindowEvent()}},{key:"checkImpressed1px",value:function(){!this.isImpressed1px&&this.intersectionRatio>0&&"active"===this.pageLifeCycleState&&(this.isImpressed1px=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_1PX,{target:this.target}))}},{key:"checkImpressed100p",value:function(){this.isImpressed100p||1!==this.intersectionRatio||"active"!==this.pageLifeCycleState||(this.isImpressed100p=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_100P,{target:this.target}))}},{key:"checkImpressed100p1s",value:function(){this.isImpressed100p1s||(1===this.intersectionRatio&&"active"===this.pageLifeCycleState?this.visibleTimeout100p1s||(this.visibleTimeout100p1s=window.setTimeout((()=>{this.isImpressed100p1s=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_100P_WITH_DURATION_1S,{target:this.target})}),1e3)):this.visibleTimeout100p1s&&(clearTimeout(this.visibleTimeout100p1s),this.visibleTimeout100p1s=void 0))}},{key:"checkViewableImpressed",value:function(){this.isViewableImpressed||(this.intersectionRatio>0&&this.intersectionRatio>=this.viewableImpressionConfig.ratio&&"active"===this.pageLifeCycleState?this.visibleTimeout||(this.visibleTimeout=window.setTimeout((()=>{this.isViewableImpressed=!0,this.visibilityObserverListener.dispatch(ed.VIEWABLE_IMPRESSED,{target:this.target})}),this.viewableImpressionConfig.ms)):this.visibleTimeout&&(clearTimeout(this.visibleTimeout),this.visibleTimeout=void 0))}}])}(),El=function(){return mc((function t(){gc(this,t),pc(this,"eventHandlers",void 0),this.eventHandlers={}}),[{key:"addEventListener",value:function(t,e){const n=this.eventHandlers[t]??[];return n.push(e),this.eventHandlers[t]=n,()=>{this.removeListener(t,e)}}},{key:"dispatch",value:function(t,...e){const n=this.eventHandlers[t];n&&n.forEach((t=>{t(...e)}))}},{key:"removeAllListeners",value:function(){this.eventHandlers={}}},{key:"removeListener",value:function(t,e){const n=this.eventHandlers[t];n?.length&&(this.eventHandlers[t]=n.filter((t=>t!==e)))}},{key:"destroy",value:function(){this.removeAllListeners()}}])}(),ml=function(){function t(){return gc(this,t),fd(this,t,arguments)}return ud(t,El),mc(t)}();const gl=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1];let yl=function(){return mc((function t(e,n=cl,i="VIEWABLE_NORMAL"){if(gc(this,t),pc(this,"adViewabilityMeasureType",void 0),pc(this,"visibilityObserverListener",void 0),pc(this,"visibilityCheckerMap",void 0),pc(this,"observer",void 0),pc(this,"threshold",gl),this.adViewabilityMeasureType=i,!e)throw new Error("Not found ad element.");this.visibilityObserverListener=new ml,this.visibilityCheckerMap=new Map;const r=this.createVisibilityChecker(e,n);this.visibilityCheckerMap.set(e,r)}),[{key:"createVisibilityChecker",value:function(t,e){return"VIEWABLE_FOCUS"===this.adViewabilityMeasureType?new pl(t,this.visibilityObserverListener,e):new vl(t,this.visibilityObserverListener,e)}},{key:"setSubAdElement",value:function(t){if(!t)throw new Error("Not found subAdElement.");this.visibilityCheckerMap.set(t,new vl(t,this.visibilityObserverListener))}},{key:"start",value:function(){this.observer||(this.observer=new IntersectionObserver((t=>{t.forEach((t=>{this.visibilityCheckerMap.get(t?.target)?.onChangeIntersection(t.isIntersecting,t.intersectionRatio)}))}),{threshold:this.threshold}),this.visibilityCheckerMap.forEach((t=>{t.start(),this.observer?.observe(t.target)})))}},{key:"resume",value:function(){this.visibilityCheckerMap.forEach((t=>{this.observer?.observe(t.target),t.clearTimer()}))}},{key:"pause",value:function(){this.visibilityCheckerMap.forEach((t=>{this.observer?.unobserve(t.target)}))}},{key:"stop",value:function(){this.observer?.disconnect(),this.observer=void 0,this.visibilityObserverListener.destroy(),this.visibilityCheckerMap.forEach((t=>{t.stop()}))}},{key:"addEventListener",value:function(t,e){this.visibilityObserverListener.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.visibilityObserverListener.removeListener(t,e)}}])}(),Al=function(){return mc((function t(e){for(gc(this,t);e.length>0;){const t=e.shift();if("function"==typeof t)try{t()}catch(t){}}}),[{key:"push",value:function(t){try{t()}catch(t){}}}])}(),Sl=function(){return mc((function t(e=[]){gc(this,t),pc(this,"core",void 0),pc(this,"commands",void 0),pc(this,"isTriggered",void 0),this.commands=e,this.isTriggered=!1}),[{key:"push",value:function(t){this.isTriggered?this.core?.push(t):this.commands.push(t)}},{key:"forceExecuteCommands",value:function(){this.isTriggered=!0,this.core=new Al(this.commands)}}])}();function Rl(t,e="",n=""){if("function"==typeof Element.prototype.closest){const i=`a, [${e}='${n}']`;return t.closest(i)}let i=t;do{if(i instanceof HTMLAnchorElement||i.getAttribute(e)===n)return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null}const Dl=()=>2===window.performance?.navigation?.type,Tl="gfp_uuid_iv";const kl=new(function(){return mc((function t(){gc(this,t)}),[{key:"getIV",value:function(){const t=qd((()=>window.localStorage.getItem(Tl)));if(t)return t;const e=(()=>{const t=window?.crypto??window?.msCrypto;return"function"==typeof t?.randomUUID?t.randomUUID():t?"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(+e^t.getRandomValues(new Uint8Array(1))[0]&15>>+e/4).toString(16))):""})();return qd((()=>window.localStorage.setItem(Tl,e))),e}},{key:"getIVT",value:function(t){return Kd(t)||t===this.getIV()?qc.WEB:Sd()?qc.ANDROID:Ad()?qc.IOS:qc.WEB}}])}());let bl=function(){return mc((function t(e){gc(this,t),pc(this,"eventTrackingRecord",void 0),this.eventTrackingRecord=e}),[{key:"getEventTrackingUrlList",value:function(t){return(this.eventTrackingRecord[t]??[]).filter($d)}}])}(),Il=function(){return mc((function t(e){gc(this,t),pc(this,"ackImpressions",void 0),pc(this,"clicks",void 0),pc(this,"renderedImpressions",void 0),pc(this,"viewableImpressions",void 0),pc(this,"loadErrors",void 0),pc(this,"startErrors",void 0),pc(this,"vimp1px",void 0),pc(this,"vimp100",void 0),pc(this,"vimp100p",void 0),pc(this,"admute",void 0),pc(this,"advmute",void 0),pc(this,"bounce",void 0),pc(this,"mute",void 0),this.ackImpressions=e?.ackImpressions??[],this.clicks=e?.clicks??[],this.renderedImpressions=e?.renderedImpressions??[],this.viewableImpressions=e?.viewableImpressions??[],this.loadErrors=e?.loadErrors??[],this.startErrors=e?.startErrors??[],this.vimp1px=e?.vimp1px,this.vimp100=e?.vimp100,this.vimp100p=e?.vimp100p,this.admute=e?.admute,this.advmute=e?.advmute,this.bounce=e?.bounce,this.mute=e?.mute}),[{key:"createEventTrackingContainer",value:function(){const t=this.ackImpressions?.map((t=>t.url))??[],e=this.clicks?.map((t=>t.url))??[],n=this.renderedImpressions?.map((t=>t.url))??[],i=this.viewableImpressions?.map((t=>t.url))??[],r=this.loadErrors?.map((t=>t.url))??[],o=this.startErrors?.map((t=>t.url))??[],s=this.vimp1px?.map((t=>t.url))??[],a=this.vimp100?.map((t=>t.url))??[],u=this.vimp100p?.map((t=>t.url))??[],c=this.admute?.map((t=>t.url))??[],d=this.advmute?.map((t=>t.url))??[],l=this.bounce?.map((t=>t.url))??[],h=this.mute?.map((t=>t.url))??[];return new bl({[Hc.ACK_IMPRESSION]:t,[Hc.CLICKED]:e,[Hc.RENDERED_IMPRESSION]:n,[Hc.VIEWABLE_IMPRESSION]:i,[Hc.LOAD_ERROR]:r,[Hc.START_ERROR]:o,[Hc.VIMP_1PX]:s,[Hc.VIMP_100]:a,[Hc.VIMP_100P]:u,[Hc.AD_MUTE]:c,[Hc.ADVERTISER_MUTE]:d,[Hc.BOUNCE_BACK]:l,[Hc.MUTE]:h})}}])}();const _l="ct",wl="t0",Ll="sz",Ol="rt",Cl="st",Pl="erc",Nl="ersc",Ml="erm",Ul="t1";let Fl=function(){function t({gfpEventTracking:e,providerEventTracking:n,encrypted:i,timeMap:r}){gc(this,t),pc(this,"gfpEventTracking",void 0),pc(this,"gfpEventTrackingContainer",void 0),pc(this,"providerEventTrackingContainer",void 0),pc(this,"encrypted",void 0),pc(this,"timeMap",void 0),pc(this,"subEventNotifiers",void 0),this.gfpEventTracking=e,this.gfpEventTrackingContainer=new Il(e).createEventTrackingContainer(),this.providerEventTrackingContainer=new Il(n).createEventTrackingContainer(),this.encrypted=i??"",this.timeMap=r,this.subEventNotifiers=new Map}return mc(t,[{key:"hasProviderEventByType",value:function(t){const e=this.providerEventTrackingContainer?.getEventTrackingUrlList(t);return Boolean(Array.isArray(e)&&e.length)}},{key:"getGfpEventTrackingUrlList",value:function(t){return Kd(this.encrypted)?[]:this.gfpEventTrackingContainer.getEventTrackingUrlList(t)??[]}},{key:"getProviderEventTrackingUrlList",value:function(t){return this.providerEventTrackingContainer.getEventTrackingUrlList(t)??[]}},{key:"setSubEventNotifier",value:function(e,n,i=""){this.subEventNotifiers.set(e,new t({gfpEventTracking:this.gfpEventTracking,providerEventTracking:n??new Il,encrypted:i,timeMap:this.timeMap}))}},{key:"getSubEventNotifier",value:function(t){return this.subEventNotifiers.get(t)??null}},{key:"getAllSubEventNotifiers",value:function(){return[...this.subEventNotifiers.values()]}},{key:"fireAckImpEvent",value:function(t,e=0,n){const i=this.timeMap.calculateFromTo("request","response"),r={[Cl]:Bc.SUCCESS,[_l]:t??"",[Ol]:e??0,[Ll]:this.convertSizeToString(n),[wl]:i};this.reportEvents(Hc.ACK_IMPRESSION,r)}},{key:"fireClickEvent",value:function(t,e){const n={[_l]:t,[Ll]:this.convertSizeToString(e)};this.reportEvents(Hc.CLICKED,n)}},{key:"fireRenderedImpressionEvent",value:function(t,e){const n={[_l]:t??"",[Ll]:this.convertSizeToString(e)};this.reportEvents(Hc.RENDERED_IMPRESSION,n)}},{key:"fireViewableImpressionEvent",value:function(t,e){const n=document.hasFocus()?1:2,i={[_l]:t??"",[Ll]:this.convertSizeToString(e),[Ul]:n};this.reportEvents(Hc.VIEWABLE_IMPRESSION,i)}},{key:"fireLoadErrorEvent",value:function(t,e){const n=this.timeMap.calculateFromTo("request","response"),i={[Ol]:t??0,[Cl]:e?.stat,[Pl]:e?.errorCode,[Nl]:e?.errorSubCode,[Ml]:e?.errorMessage,[wl]:n};this.reportEvents(Hc.LOAD_ERROR,i)}},{key:"fireStartErrorEvent",value:function(t,e){const n={[Ol]:t??0,[Cl]:e?.stat,[Pl]:e?.errorCode,[Nl]:e?.errorSubCode,[Ml]:e?.errorMessage};this.reportEvents(Hc.START_ERROR,n)}},{key:"fireVImp1pxEvent",value:function(){this.getProviderEventTrackingUrlList(Hc.VIMP_1PX).forEach((e=>{t.reportEvent(e)}))}},{key:"fireVImp100Event",value:function(){this.getProviderEventTrackingUrlList(Hc.VIMP_100).forEach((e=>{t.reportEvent(e)}))}},{key:"fireVImp100pEvent",value:function(){this.getProviderEventTrackingUrlList(Hc.VIMP_100P).forEach((e=>{t.reportEvent(e)}))}},{key:"fireAdMuteEvent",value:function(){this.getProviderEventTrackingUrlList(Hc.AD_MUTE).forEach((e=>{t.reportEvent(e)}))}},{key:"fireAdvertiserMuteEvent",value:function(){this.getProviderEventTrackingUrlList(Hc.ADVERTISER_MUTE).forEach((e=>{t.reportEvent(e)}))}},{key:"fireAdMuteCompletedEvent",value:function(){this.reportEvents(Hc.MUTE,{})}},{key:"reportEvents",value:function(e,n){this.getGfpEventTrackingUrlList(e).forEach((e=>{t.reportEvent(e,this.encrypted,n)})),this.getProviderEventTrackingUrlList(e).forEach((e=>{t.reportEvent(e)}))}},{key:"fireAdditionalEvent",value:function(e){e.forEach((e=>{$d(e)&&t.reportEvent(e)}))}},{key:"convertSizeToString",value:function(t){return t?`${t.width}x${t.height}`:""}}],[{key:"reportEvent",value:function(t,e,n,i){ul.create(t,e,n,i).callTrackingUrl()}},{key:"fireNetworkErrorEvent",value:function(e,n,i,r=0){const o=Object.assign({},n,{[Cl]:i?.stat,[Pl]:i?.errorCode,[Nl]:i?.errorSubCode,[Ml]:i?.errorMessage,[Ol]:r}),s=Object.entries(o).reduce(((t,[e,n])=>(zd(n)||t.push(`${e}=${Vd(n)}`),t)),[]).join("&"),a=Fd(),u=(()=>{try{if(Od()){if("Microsoft Internet Explorer"===navigator.appName)return parseFloat(Ed().match(/MSIE ([0-9.]+)/i)[1]);if("Netscape"===navigator.appName&&null!=new RegExp("trident/.*rv[ :]([0-9]{1,}[.0-9]{0,})").exec(Ed()))return parseFloat(RegExp.$1)}if(Cd()){const t=/NAVER\((inapp|higgs);\s?search;\s?([0-9\.]+);\s?([0-9\.]+)(;\s?([a-z|0-9\.]+))?\)/i;return parseFloat(Ed().match(t)[3])}return Pd()?parseFloat(Ed().match(/SamsungBrowser\/([0-9.]+)/i)[1]):Nd()?parseFloat(Ed().match(/Line\/([0-9.]+)/i)[1]):Md()?parseInt(Ed().match(/EdgA\/([0-9.]+)/i)[1]):Ud()?parseInt(Ed().match(/EdgiOS\/([0-9.]+)/i)[1]):Td()?parseFloat(Ed().match(/Version\/([0-9.]+)/i)[1]):kd()?parseInt(Ed().match(/Edg\/([0-9.]+)/i)[1]):bd()?parseFloat(Ed().match(/Firefox\/([0-9.]+)/i)[1]):Id()?parseFloat(Ed().match(/Whale\/([0-9.]+)/i)[1]):_d()?parseFloat(Ed().match(/(Chrome|CriOS)\/([0-9.]+)/i)[2]):wd()||Ld()?parseFloat(Ed().match(/Version\/([0-9.]+)/i)[1]):-1}catch(t){return-1}})(),c=md()?"Windows":gd()?"MacOS":Ad()?"IOS":Sd()?"Android":Rd()?"Windows Mobile":Dd()?"Tizen":"an unknown OS",d=(()=>{try{return md()?parseFloat(Ed().match(/Windows NT ([0-9.]+)/i)[1]):gd()?parseFloat(Ed().match(/Mac OS X ([\d_.]+)/i)[1].replace(/_/g,".")):Ad()?parseFloat(Ed().match(/OS ((\d+_?){2,3})\s/i)[1].replace(/_/g,".")):Sd()?parseFloat(Ed().match(/Android ([0-9.]+)/i)[1]):Rd()?parseFloat(Ed().match(/Windows Phone ([0-9.]+)|Windows Phone OS ([0-9.]+)/i)[0].match(/[0-9.]+/)[0]):Dd()?parseFloat(Ed().match(/Tizen ([0-9.]+)/i)[1]):-1}catch(t){return-1}})(),l={q:s,u:n.u,bn:a,bv:u,os:c,osv:d,[Pl]:i?.errorCode,[Nl]:i?.errorSubCode,[Ml]:i?.errorMessage};t.reportEvent(e,"",l)}}])}();var Vl=new WeakMap,xl=new WeakMap,Hl=new WeakMap,jl=new WeakMap,Wl=new WeakMap;let Gl=function(){function t(e,n,i,r,o){gc(this,t),cd(this,Vl,void 0),cd(this,xl,void 0),cd(this,Hl,void 0),cd(this,jl,void 0),cd(this,Wl,void 0),ld(Vl,this,e??Wc.INTERNAL_ERROR),ld(xl,this,n),ld(Hl,this,i),ld(jl,this,r??Bc.ERROR),ld(Wl,this,o)}return mc(t,[{key:"errorCode",get:function(){return dd(Vl,this)}},{key:"errorSubCode",get:function(){return dd(xl,this)}},{key:"errorMessage",get:function(){return dd(Hl,this)}},{key:"stat",get:function(){return dd(jl,this)}},{key:"originalError",get:function(){return dd(Wl,this)}}],[{key:"fromError",value:function(e,n,i,r,o){return e instanceof t?e:(e instanceof Error&&(r=r??e.message),new t(n,i,r??"Unknown error",o,e))}}])}(),Bl=function(){return mc((function t(){gc(this,t),pc(this,"requestTimeoutId",void 0),pc(this,"endTimer",void 0)}),[{key:"initTimer",value:function(t,e){return new Promise(((n,i)=>{this.endTimer=n,e!==1/0&&(this.requestTimeoutId=window.setTimeout((()=>{i(t()),this.requestTimeoutId=void 0}),e))}))}},{key:"clearTimer",value:function(){window.clearTimeout(this.requestTimeoutId),this.endTimer?.(),this.requestTimeoutId=void 0,this.endTimer=void 0}}])}(),ql=function(){return mc((function t({ads:e,adExtraData:n,eventTracking:i,timeMap:r}){gc(this,t),pc(this,"adQueue",void 0),pc(this,"adExtraData",void 0),pc(this,"eventTracking",void 0),pc(this,"pickedAdapter",void 0),pc(this,"eventNotifier",void 0),pc(this,"timeMap",void 0),pc(this,"mediationTimer",void 0),this.adQueue=[...e],this.adExtraData=n,this.eventTracking=i,this.timeMap=r,this.mediationTimer=new Bl}),[{key:"loadAd",value:async function(){const{requestTimeout:t}=this.getGlobalConfig(),e=()=>{const t=new Gl(Wc.LOAD_FAILED_TIMEOUT,Gc.REQUEST_TIMEOUT,"Request Timeout",Bc.TIMEOUT),e=this.timeMap.calculateNow("request");return this.eventNotifier?.fireLoadErrorEvent(e,t),t};try{await Promise.race([this.mediationTimer.initTimer(e,t),this.processNextAd()])}finally{this.mediationTimer.clearTimer()}}},{key:"processNextAd",value:async function(){const t=this.adQueue.shift();if(!t)throw new Gl(Wc.LOAD_ERROR_AD_SELECTION_NO_FILL,Gc.NO_FILL,"No ad",Bc.ERROR);const e=new Fl({gfpEventTracking:this.eventTracking,providerEventTracking:t.eventTracking,encrypted:t.encrypted,timeMap:this.timeMap});t.adInfo.slots?.forEach(((t,n)=>{e.setSubEventNotifier(n,t.eventTracking)})),this.eventNotifier=e,t.renderType===Jc.EMPTY&&this.throwEmptyRenderError(e);try{this.pickedAdapter=await this.pickAdapter(t,e),await this.pickedAdapter.requestAd()}catch{this.pickedAdapter?.destroy(),this.pickedAdapter=void 0,await this.processNextAd()}}},{key:"destroy",value:function(){this.pickedAdapter?.destroy(),this.pickedAdapter=void 0}}])}(),Kl=function(){return mc((function t(e){gc(this,t),pc(this,"ad",void 0),pc(this,"loadTimer",void 0),pc(this,"resolve",void 0),pc(this,"reject",void 0),this.ad=e,this.loadTimer=new Bl}),[{key:"start",value:function(){const{timeout:t}=this.ad.adInfo??{};return this.loadTimer.initTimer((()=>new Gl(Wc.LOAD_ERROR_AD_SELECTION_NO_FILL,Gc.ADAPTER_LOAD_TIMEOUT,`failed to respond in a timely manner. renderType: ${this.ad.renderType}, creativeType: ${this.ad.creativeType}, adProviderName: ${this.ad.adProviderName}`,Bc.TIMEOUT)),t||1/0).catch((t=>this.onError(t))),new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}},{key:"onLoaded",value:function(){this.loadTimer.clearTimer(),this.resolve?.()}},{key:"onError",value:function(t){this.loadTimer.clearTimer(),this.reject?.(t)}},{key:"destroy",value:function(){this.loadTimer.clearTimer(),this.resolve=void 0,this.reject=void 0}}])}(),$l=function(){return mc((function t(){gc(this,t)}),[{key:"pickAdapter",value:async function(t,e,n,i){try{const r=await this.tryToPickAdapter(t);return this.createAdapterInstance(r,t,e,n,i)}catch(t){const e=Gl.fromError(t,Wc.INTERNAL_ERROR,Gc.RECEIVED_INVALID_PROPERTY);throw n.fireLoadErrorEvent(0,e),e}}},{key:"tryToPickAdapter",value:async function(t){try{this.validateAd(t)}catch(t){throw Gl.fromError(t,Wc.INTERNAL_ERROR,Gc.RECEIVED_INVALID_PROPERTY)}const{renderType:e,creativeType:n}=t;try{return await this.getAdapterClass(e,n)}catch(t){if(t instanceof Error){let e;switch(n){case xc.BANNER:e=Gc.NOT_FOUND_BANNER_ADAPTER;break;case xc.NATIVE:e=Gc.NOT_FOUND_NATIVE_ADAPTER;break;default:e=Gc.NOT_FOUND_UNKNOWN_ADAPTER}throw Gl.fromError(t,Wc.INTERNAL_ERROR,e,`Failed to pick adapter:${t.message}`)}}throw new Error("should not reach here")}},{key:"getAdapterClass",value:async function(t,e){let n=this.getSavedAdapterClass(t,e);if(n)return n;if(await this.importAdapter(t,e),n=this.getSavedAdapterClass(t,e),n)return n;throw new Error(`Not found adapter: RenderType[${t}], CreativeType[${e}]`)}},{key:"getSavedAdapterClass",value:function(t,e){return this.getThirdPartyAdapters().find((n=>{let i;return i=Array.isArray(n.renderType)?n.renderType?.some((e=>e===t)):n.renderType===t,i&&n.creativeType===e}))?.adapter}},{key:"validateAd",value:function(t){if(!t)throw new Error("Invalid ad.");if(!t.adInfo)throw new Error("Invalid adInfo.");if(!t.renderType)throw new Error("Invalid renderType.");if(!t.creativeType)throw new Error("Invalid creativeType.")}}])}(),zl=function(){function t(e,n,i,r){var o;return gc(this,t),pc(o=fd(this,t,[Wc.LOAD_ERROR_AD_SELECTION_NO_FILL,Gc.NO_FILL,"Reached empty render type.",Bc.ERROR]),"eventNotifier",void 0),pc(o,"emptyAdsObserver",void 0),pc(o,"adElement",void 0),pc(o,"waterfallImpressionConfig",void 0),o.eventNotifier=e,o.emptyAdsObserver=n,o.adElement=i,o.waterfallImpressionConfig=r,o.fireEvents(),o.observeEmptyAdElement(),o}return ud(t,Gl),mc(t,[{key:"fireEvents",value:function(){this.eventNotifier.fireAckImpEvent(null,0),this.eventNotifier.fireRenderedImpressionEvent(null)}},{key:"observeEmptyAdElement",value:function(){if(this.adElement){const t=dl(this.waterfallImpressionConfig);this.emptyAdsObserver.observe(this.adElement,t,this.eventNotifier)}}}])}();const Ql=()=>{const t=(()=>{try{if(window.naverappapi)return window.naverappapi;if(window.top&&window.top!==window&&window.top.naverappapi)return window.top.naverappapi}catch{}})();if(t&&t.checknetworkstatus&&"function"==typeof t.checknetworkstatus){const e=t.checknetworkstatus();return Object.values(Qc).includes(e)?e:null}return null},Xl=()=>{let t=!1;const e=Ql();if(e===Qc.WIFI)return zc.WIFI;e===Qc.CELL&&(t=!0);const n=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(n?.type)switch(n.type){case Xc.ETHERNET:return zc.ETHERNET;case Xc.WIFI:return zc.WIFI;case Xc.CELLULAR:t=!0}if(t){if(n?.effectiveType)switch(n.effectiveType){case Yc.CELLULAR_2G:return zc.CELLULAR_2G;case Yc.CELLULAR_3G:return zc.CELLULAR_3G;case Yc.CELLULAR_4G:return zc.CELLULAR_4G}return zc.CELLULAR_UNKNOWN}return zc.UNKNOWN};let Yl=function(){return mc((function t(){gc(this,t),pc(this,"tfua",void 0),pc(this,"tfcd",void 0),pc(this,"privacySettingsConfig",void 0),this.tfua=void 0,this.tfcd=void 0,this.privacySettingsConfig={}}),[{key:"getPrivacyInfo",value:function(){return{iabtcstring:this.getTCString(),iabuspstring:this.getUSPString(),tfua:this.tfua,tfcd:this.tfcd}}},{key:"setPrivacySettingsConfig",value:function(t){this.privacySettingsConfig=t;const{underAgeOfConsent:e,childDirectedTreatment:n}=t;"boolean"==typeof e&&this.setTFUA(e),"boolean"==typeof n&&this.setTFCD(n)}},{key:"getPrivacySettingsConfig",value:function(){return this.privacySettingsConfig}},{key:"setTFUA",value:function(t){this.tfua=t?1:0}},{key:"setTFCD",value:function(t){this.tfcd=t?1:0}},{key:"getTCString",value:function(){try{let t;return window.__tcfapi("getTCData",2,((e,n)=>{try{n&&(t=e.tcString)}catch{}})),t}catch{return}}},{key:"getUSPString",value:function(){try{let t;return window.__uspapi("getUSPData",1,((e,n)=>{try{n&&(t=e.uspString)}catch{}})),t}catch{return}}}])}();const Jl=[{key:"googleImaSdk",type:"javascript",src:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}];let Zl=function(){return mc((function t(){gc(this,t),pc(this,"resources",{}),Jl.forEach((t=>{this.resources[t.key]={loaded:!1,type:t.type,src:t.src}}))}),[{key:"load",value:function(t,e){return"javascript"===this.resources[t]?.type?this.loadJavaScript(t,e):"css"===this.resources[t]?.type?this.loadCss(t):Promise.reject(new Error(`Received invalid type, ${this.resources[t]?.type}`))}},{key:"saveAndLoad",value:function(t,e,n,i){return Kd(t)?Promise.reject(new Error(`Received invalid key, ${t}`)):Kd(n)?Promise.reject(new Error(`Received invalid src, ${n}`)):(this.resources[t]||(this.resources[t]={loaded:!1,type:e,src:n}),this.load(t,i))}},{key:"loadJavaScript",value:function(t,e="utf-8"){return new Promise(((n,i)=>{if(this.resources[t].loaded)n();else{const r=document.createElement("script");r.type="text/javascript",r.src=this.resources[t].src,r.async=!0,r.charset=e,r.onload=()=>{this.resources[t].loaded=!0,n()},r.onerror=()=>{this.resources[t].loaded=!1,i(new Error(`${this.resources[t].src} failed to load.`))},document.getElementsByTagName("head")[0].appendChild(r)}}))}},{key:"loadCss",value:function(t){return new Promise(((e,n)=>{if(this.resources[t].loaded)e();else{const i=document.createElement("link");i.rel="stylesheet",i.href=this.resources[t].src;const r=n=>{this.resources[t].loaded||(this.resources[t].loaded=!0,e())};i.onload=()=>r(),i.onerror=()=>{this.resources[t].loaded=!1,n(new Error(`${this.resources[t].src} failed to load.`))},document.getElementsByTagName("head")[0].appendChild(i)}}))}}])}(),th=function(){return mc((function t(e){gc(this,t),pc(this,"storage",void 0),this.storage=window[e]}),[{key:"setItem",value:function(t,e){try{this.storage?.setItem(t,JSON.stringify(e))}catch(t){}}},{key:"getItem",value:function(t){const e=this.storage?.getItem(t);return e?JSON.parse(e):null}},{key:"removeItem",value:function(t){this.storage?.removeItem(t)}},{key:"setObjectItem",value:function(t,e,n){const i=this.getItem(t)??{};i[e]=n,this.setItem(t,i)}},{key:"getObjectItem",value:function(t,e){const n=this.getItem(t);return n?n[e]:null}},{key:"removeObjectItem",value:function(t,e){const n=this.getItem(t);n&&(delete n[e],this.setItem(t,n))}}])}(),eh=function(){return mc((function t(){gc(this,t),pc(this,"innerMap",void 0),this.innerMap=new Map}),[{key:"set",value:function(t,e){this.innerMap.set(t,e)}},{key:"clear",value:function(){this.innerMap=new Map}},{key:"calculateNow",value:function(t){const e=this.innerMap.get(t);return e?Date.now()-e:0}},{key:"calculateFromTo",value:function(t,e){const n=this.innerMap.get(t),i=this.innerMap.get(e);return n&&i?i-n:0}}])}(),nh=function(){return mc((function t(){gc(this,t)}),[{key:"getAppEnvironment",value:function(){try{return window.namAppSDKBridge?.getAppEnvironment()}catch(t){}}},{key:"updateNAC",value:function(t){try{window.namAppSDKBridge?.updateNAC(JSON.stringify({nac:t}))}catch(t){}}}],[{key:"isEnvironment",value:function(){return Boolean(window.namAppSDKBridge)}}])}(),ih=function(){return mc((function t(){gc(this,t)}),[{key:"updateNAC",value:function(t){this.noop()}},{key:"getAppEnvironment",value:function(){}},{key:"noop",value:function(){}}])}(),rh=function(){return mc((function t(){gc(this,t)}),[{key:"getAppEnvironment",value:async function(){try{const t=await(window.webkit?.messageHandlers?.namAppSDKBridge?.postMessage({method:"getAppEnvironment"}));if(t)return t}catch(t){}}},{key:"updateNAC",value:function(t){try{window.webkit?.messageHandlers?.namAppSDKBridge?.postMessage({method:"updateNAC",parameter:{nac:t}}).catch((()=>{}))}catch(t){}}},{key:"getSkadnEventHandler",value:function(){return new oh}}],[{key:"isEnvironment",value:function(){return Boolean(window?.webkit?.messageHandlers?.namAppSDKBridge)}}])}(),oh=function(){return mc((function t(){gc(this,t)}),[{key:"sendImpressionStart",value:function(t){try{window.webkit?.messageHandlers?.namAppSDKBridge?.postMessage({method:"adWasSeen",parameter:{skadn:t}}).catch((()=>{}))}catch(t){}}},{key:"sendAdClick",value:async function(t){try{const e=await(window.webkit?.messageHandlers?.namAppSDKBridge?.postMessage({method:"adWasClicked",parameter:{skadn:t}}));if(!e)return!1;const{result:n}=JSON.parse(e);return n}catch(t){return!1}}}])}(),sh=function(){return mc((function t(){gc(this,t),pc(this,"appEnv",void 0),pc(this,"communicator",void 0),nh.isEnvironment()?this.communicator=new nh:rh.isEnvironment()?this.communicator=new rh:this.communicator=new ih}),[{key:"init",value:async function(){try{const t=this.communicator.getAppEnvironment();if("string"==typeof t)this.setAppEnv(JSON.parse(t));else if(t instanceof Promise){const e=await t;e&&this.setAppEnv(JSON.parse(e))}}catch(t){}}},{key:"setAppEnv",value:function(t){this.appEnv=t}},{key:"getAppEnv",value:function(){return this.appEnv}},{key:"updateAppNAC",value:function(t){this.communicator.updateNAC(t)}},{key:"getSkadnEventHandler",value:function(){if(this.communicator instanceof rh)return this.communicator.getSkadnEventHandler()}}],[{key:"isWebAppEnvironment",value:function(){return nh.isEnvironment()||rh.isEnvironment()}}])}(),ah=function(){return mc((function t({resourceLoader:e,adMuteLibUrl:n,creativeType:i,adChoice:r,initialAdMuteState:o}){gc(this,t),pc(this,"resourceLoader",void 0),pc(this,"adMuteLibUrl",void 0),pc(this,"creativeType",void 0),pc(this,"adChoice",void 0),pc(this,"initialAdMuteState",void 0),pc(this,"controller",void 0),pc(this,"commandProcessor",void 0),this.resourceLoader=e,this.adMuteLibUrl=n,this.creativeType=i,this.adChoice=r,this.initialAdMuteState=o??od.INIT,this.commandProcessor=new Sl}),[{key:"initAdMute",value:async function(t,e,n,i){try{if(!this.isAdMuteLibLoadable())return;this.isAdMuteLibLoaded()||await this.loadAdMuteLib(),this.renderAdMute(),this.addEventListener(id.AD_MUTE_COMPLETED,t),this.addEventListener(id.MUTE_STATE_CHANGED,e),this.addEventListener(id.TOUCH_STARTED,n),this.addEventListener(id.TOUCH_ENDED,i),this.commandProcessor.forceExecuteCommands()}catch(t){}}},{key:"isAdMuteLibLoaded",value:function(){try{return Boolean(this.adMuteLib)}catch{return!1}}},{key:"isAdMuteLibLoadable",value:function(){return Boolean(this.adChoice?.mute||this.adChoice?.priv)}},{key:"adMuteLib",get:function(){const t=window.gladAdMute;if(!t)throw new Error("AdMute is not loaded.");return t}},{key:"addEventListener",value:function(t,e){this.commandProcessor.push((()=>{this.controller?.addEventListener(t,e)}))}},{key:"setAdTheme",value:function(t){this.commandProcessor.push((()=>{this.adMuteLib.setAdTheme(t)}))}},{key:"destroy",value:function(){this.commandProcessor.push((()=>{this.controller?.destroy()}))}},{key:"shouldRemoveAdMarkLegacy",value:function(){return Boolean(this.adChoice?.mute||this.adChoice?.priv)}},{key:"setPrivacyClickHandler",value:function(t){this.commandProcessor.push((()=>{this.controller?.setPrivacyClickHandler(t)}))}}],[{key:"replaceAdmToRemoveAdMarkLegacy",value:function(t){return t.replace(/data-gfp-role=(\\?"|\\?')adMarkLegacy(\\?"|\\?')/g,"$& style=$1display:none;$2")}}])}(),uh=function(){function t(e){var n;return gc(this,t),pc(n=fd(this,t,[e]),"adDivId",void 0),n.adDivId=e.adDivId,n}return ud(t,ah),mc(t,[{key:"loadAdMuteLib",value:function(){return this.resourceLoader.saveAndLoad("adMute","javascript",this.adMuteLibUrl)}},{key:"renderAdMute",value:function(){this.controller=this.adMuteLib.createAdMuteController({muteUrl:this.adChoice?.mute,privacyUrl:this.adChoice?.priv,adDivId:this.adDivId,creativeType:this.creativeType,runtimeType:rd.NDP_JS,muteState:this.initialAdMuteState}),this.controller.render()}},{key:"setAdThemeByHostMeta",value:function(t){if(!t)return;const e=t.get("theme");e&&"string"==typeof e&&this.setAdTheme(e)}}])}(),ch=function(){return mc((function t({httpClient:e,adCallParams:n,timeout:i,cancelSource:r}){gc(this,t),pc(this,"httpClient",void 0),pc(this,"adCallParams",void 0),pc(this,"timeout",void 0),pc(this,"cancelSource",void 0),this.httpClient=e,this.adCallParams=n,this.timeout=i,this.cancelSource=r}),[{key:"execute",value:async function(){const t=new eh;t.set("request",Date.now());try{const e=await this.httpClient.get("/gfp/v1",{params:this.adCallParams,timeout:this.timeout,cancelSource:this.cancelSource,browsingTopics:!0});if(!e)throw new Gl(Wc.LOAD_ERROR_WATERFALL_LIST_REQUEST_FAILED,Gc.INVALID_WATERFALL_RESPONSE,"Empty waterfall response",Bc.ERROR);return t.set("response",Date.now()),{adResponse:e,timeMap:t}}catch(t){if(t instanceof Gl)throw t;const e=this.cancelSource?.isCanceled;if(e)return;throw Gl.fromError(t,Wc.LOAD_ERROR_WATERFALL_LIST_REQUEST_FAILED,Gc.NETWORK_ERROR)}}}])}(),dh=function(){return mc((function t(e,n){gc(this,t),pc(this,"adUnitId",void 0),pc(this,"adElementId",void 0),pc(this,"cancelSource",void 0),this.adUnitId=e,this.adElementId=n}),[{key:"withCancelSource",value:function(t){return this.cancelSource=t,this}},{key:"build",value:function(){return new ch(this.buildAdRequestProps())}},{key:"buildAdCallParams",value:function(){const{appName:t,appVersion:e,webAppVersion:n,yob:i,gender:r,uct:o,uid:s,ai:a,iv:u}=this.getGlobalConfig(),{name:c,version:d}=this.getSdkInfo(),l=this.getCustomParams(),h=this.getPrivacyParams(),f=(t||window.location?.hostname)??"",v=document.referrer?.substring(0,255)??"",p=window.location?.href?.substring(0,255)??"",{tfua:E,tfcd:m}=h,g=1===E||1===m,y=sh.isWebAppEnvironment()?1:0,A={u:this.adUnitId,xdid:this.adElementId,p:Qd(l),an:f,av:e,wv:n,yob:i,g:r,uct:o,uid:s,r:v,c:p,sn:c,sv:d,nt:Xl(),iv:u||kl.getIV(),ivt:kl.getIVT(u),sa:Zc.DISABLED,rui:Bd(),br:y,...h};return g||(A.ai=a),A}},{key:"buildAdRequestProps",value:function(){const{requestTimeout:t}=this.getGlobalConfig();return{adCallParams:Object.entries(this.buildAdCallParams()).reduce(((t,[e,n])=>(zd(n)||(t[e]=n),t)),{}),httpClient:this.getHttpClient(),timeout:t,cancelSource:this.cancelSource}}}])}(),lh=function(){return mc((function t(){gc(this,t),pc(this,"emptyAds",void 0),pc(this,"observer",void 0),pc(this,"intersectionObserverCallback",(t=>{t.forEach((t=>{const e=this.emptyAds.get(t.target);if(!e)return;const{viewableImpressionConfig:n,eventNotifier:i,timer:r}=e;if(t.isIntersecting&&t.intersectionRatio>=n.ratio){if(r)return;const o=window.setTimeout((()=>{i.fireViewableImpressionEvent(null),this.unobserve(t.target)}),n.ms);this.emptyAds.set(t.target,{...e,timer:o})}else window.clearTimeout(r),this.emptyAds.set(t.target,{...e,timer:void 0})}))})),this.emptyAds=new WeakMap,this.observer=new IntersectionObserver(this.intersectionObserverCallback,{threshold:[0,.5,1]})}),[{key:"observe",value:function(t,e,n){const i=dl(e);this.emptyAds.set(t,{viewableImpressionConfig:i,eventNotifier:n,timer:void 0}),this.observer.observe(t)}},{key:"unobserve",value:function(t){this.emptyAds.has(t)&&(this.emptyAds.delete(t),this.observer.unobserve(t))}}])}();function hh(t,e,n,i){var r=sr(or(t.prototype),e,n);return"function"==typeof r?function(t){return r.apply(n,t)}:r}function fh(t,e,n){return e=or(e),yc(t,vh()?Reflect.construct(e,n||[],or(t).constructor):e.apply(t,n))}function vh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vh=function(){return!!t})()}var ph;!function(t){t[t.ADAPTER_PICKED=0]="ADAPTER_PICKED",t[t.AD_LOADED=1]="AD_LOADED",t[t.AD_RENDERED=2]="AD_RENDERED",t[t.AD_CLICKED=3]="AD_CLICKED",t[t.AD_IMPRESSED=4]="AD_IMPRESSED",t[t.AD_MUTE_COMPLETED=5]="AD_MUTE_COMPLETED",t[t.AD_MUTE_STATE_CHANGED=6]="AD_MUTE_STATE_CHANGED",t[t.AD_META_CHANGED=7]="AD_META_CHANGED",t[t.LOAD_ERROR=8]="LOAD_ERROR",t[t.START_ERROR=9]="START_ERROR"}(ph||(ph={}));let Eh=function(){function t(){return gc(this,t),fh(this,t,arguments)}return ud(t,El),mc(t)}();const mh=Symbol(),gh=Object.freeze({importAdapter:mh});let yh=function(){return mc((function t({store:e,adUnitId:n,adSlotElementId:i,customParam:r,ad:o,adExtraData:s,eventNotifier:a,adSlotListener:u,isPersist:c}){gc(this,t),pc(this,"store",void 0),pc(this,"adUnitId",void 0),pc(this,"adSlotElementId",void 0),pc(this,"customParam",void 0),pc(this,"ad",void 0),pc(this,"adExtraData",void 0),pc(this,"eventNotifier",void 0),pc(this,"adSlotListener",void 0),pc(this,"isPersist",void 0),pc(this,"adContainer",void 0),pc(this,"visibilityObserver",void 0),pc(this,"currState",Fc.PICKED),pc(this,"timeMap",void 0),pc(this,"adapterLoadWatcher",void 0),pc(this,"renderConfig",void 0),pc(this,"clickHandler",void 0),pc(this,"exposureChangeHandler",(({isIntersecting:t,intersectionRatio:e})=>{this.adExposureChanged(t,e)})),this.store=e,this.adUnitId=n,this.adSlotElementId=i,this.customParam=r,this.ad=o,this.adExtraData=s,this.eventNotifier=a,this.adSlotListener=u,this.isPersist=c,this.adContainer=document.getElementById(i);const d=dl(this.adExtraData.waterfallResponseConfig?.imp);try{this.visibilityObserver=new yl(this.adContainer,d)}catch{this.visibilityObserver=null}this.timeMap=new eh,this.timeMap.set("picked",Date.now()),this.adapterLoadWatcher=new Kl(o)}),[{key:"getAdProviderName",value:function(){return this.ad.adProviderName}},{key:"getCreativeType",value:function(){return this.ad.creativeType}},{key:"getNativeAdVisualId",value:function(){return this.ad?.adInfo?.adStyle?.visual?.id}},{key:"setRenderConfig",value:function(t){this.renderConfig=t}},{key:"setClickHandler",value:function(t){this.clickHandler=t}},{key:"invokeClickHandler",value:async function(t,e,n){const i=this.clickHandler&&"function"==typeof this.clickHandler,r=this.store.appSDKCommunicator.getSkadnEventHandler();if(this.ad.adInfo?.skadn&&r){if(await r.sendAdClick(this.ad.adInfo.skadn))return;if(i)this.clickHandler?.(t,e,n);else{const e=document.createElement("a");e.href=t,e.target="_blank",e.click()}}else i&&this.clickHandler?.(t,e,n)}},{key:"requestAd",value:async function(){this.changeState(Fc.REQUESTED);try{this.onCheckAndSetAdParam()}catch(t){const e=Gl.fromError(t,Wc.INTERNAL_ERROR,Gc.RECEIVED_INVALID_PROPERTY);throw this.adError(e),e}try{await Promise.all([this.adapterLoadWatcher.start(),this.loadAdapterAd()])}catch(t){const e=Gl.fromError(t,Wc.LOAD_ERROR,Gc.UNSPECIFIED);throw this.adError(e),e}}},{key:"onCheckAndSetAdParam",value:function(){if(!this.adContainer)throw new Error(`Not found '${this.adSlotElementId}' Element.`);this.adContainer.innerHTML=""}},{key:"savePersistAd",value:function(){const{globalConfig:t,persistenceStore:e}=this.store;t.enablePersistAd&&e.setAd(`${xd()}_${this.adSlotElementId}`,{ad:this.ad,adExtraData:this.adExtraData})}},{key:"handleExposureChangeSetting",value:function(t){t?this.visibilityObserver?.addEventListener(ed.EXPOSURE_CHANGED,this.exposureChangeHandler):this.visibilityObserver?.removeEventListener(ed.EXPOSURE_CHANGED,this.exposureChangeHandler)}},{key:"changeState",value:function(t){this.currState=t,this.store.logger.changeState(t,this.adSlotElementId)}},{key:"adLoaded",value:function(){if(this.changeState(Fc.LOADED),this.timeMap.set("loaded",Date.now()),this.adapterLoadWatcher.onLoaded(),!this.isPersist){const t=this.timeMap.calculateFromTo("picked","loaded");this.eventNotifier?.fireAckImpEvent(this.getCreativeType(),t,this.getSize()),this.adSlotListener.dispatch(ph.AD_LOADED)}}},{key:"adRendered",value:function(t=!1){this.changeState(Fc.RENDERED),this.timeMap.set("rendered",Date.now()),t||this.adExtraData.renderedImpressed||(this.adRenderedImpressed(),this.adExtraData.renderedImpressed=!0,this.savePersistAd()),this.resetContainerHeight(),this.adSlotListener.dispatch(ph.AD_RENDERED)}},{key:"adClicked",value:function(){this.eventNotifier?.fireClickEvent(this.getCreativeType(),this.getSize()),this.adSlotListener.dispatch(ph.AD_CLICKED)}},{key:"adRenderedImpressed",value:function(){this.eventNotifier?.fireRenderedImpressionEvent(this.getCreativeType(),this.getSize())}},{key:"adViewableImpressed",value:function(){if(this.eventNotifier?.fireViewableImpressionEvent(this.getCreativeType(),this.getSize()),this.adSlotListener.dispatch(ph.AD_IMPRESSED),this.ad.adInfo.skadn){const t=this.store.appSDKCommunicator.getSkadnEventHandler();t?.sendImpressionStart(this.ad.adInfo.skadn)}}},{key:"adError",value:function(t){switch(this.store.neloLogger.logMethodFrequently({method:`DisplayAdAdapter.adError(${Fc[this.currState]})`,stace:t.errorMessage,sampleRate:1/60*.01}),this.currState){case Fc.PICKED:case Fc.REQUESTED:this.adapterLoadWatcher.onError(t),this.eventNotifier.fireLoadErrorEvent(this.timeMap.calculateNow("picked"),t);break;case Fc.LOADED:case Fc.AD_START_REQUESTED:case Fc.RENDERED:this.eventNotifier.fireStartErrorEvent(this.timeMap.calculateNow("rendered"),t),this.adSlotListener.dispatch(ph.START_ERROR,{error:t});case Fc.DESTROYED:}}},{key:"adExposureChanged",value:function(t,e){}},{key:"clearVisibilityObserver",value:function(){this.visibilityObserver?.stop()}},{key:"fixContainerHeight",value:function(){if(this.currState===Fc.RENDERED&&null===this.adContainer?.getAttribute(Ah)){const t=this.adContainer.style.height;this.adContainer.setAttribute(Ah,t),this.adContainer.style.height=this.adContainer.getBoundingClientRect().height+"px"}}},{key:"resetContainerHeight",value:function(){if(!this.adContainer)return;const t=this.adContainer.getAttribute(Ah);null!==t&&(this.adContainer.style.height=t,this.adContainer.removeAttribute(Ah))}},{key:"destroy",value:function(){for(this.changeState(Fc.DESTROYED),this.adapterLoadWatcher.destroy(),this.clearVisibilityObserver();this.adContainer?.firstChild;)this.adContainer.removeChild(this.adContainer.firstChild)}}])}();const Ah="data-gfp-original-height";let Sh=function(){function t(e){var n;return gc(this,t),pc(n=fh(this,t,[e]),"isFluid",void 0),n.isFluid=n.ad.layoutType===Kc.FLUID,n}return ud(t,yh),mc(t,[{key:"adRendered",value:function(e=!1){hh(t,"adRendered",this)([e]),this.adExtraData.viewableImpressed||this.visibilityObserver?.addEventListener(ed.VIEWABLE_IMPRESSED,(()=>{this.adViewableImpressed(),this.adExtraData.viewableImpressed=!0,this.savePersistAd()})),this.visibilityObserver?.start()}}])}(),Rh=function(){function t(e){return gc(this,t),fh(this,t,[e])}return ud(t,yh),mc(t,[{key:"getSize",value:function(){}},{key:"adLoaded",value:function(){if(hh(t,"adLoaded",this)([]),!this.isPersist){const t=this.timeMap.calculateFromTo("picked","loaded");this.eventNotifier?.getAllSubEventNotifiers()?.forEach((e=>{e.fireAckImpEvent(this.getCreativeType(),t,this.getSize())}))}}},{key:"adRendered",value:function(e=!1){hh(t,"adRendered",this)([e]),this.adExtraData.viewableImpressed||this.visibilityObserver?.addEventListener(ed.VIEWABLE_IMPRESSED,(()=>{this.adViewableImpressed(),this.adExtraData.viewableImpressed=!0,this.savePersistAd()})),this.adExtraData.viewable1pxImpressed||this.visibilityObserver?.addEventListener(ed.IMPRESSED_1PX,(()=>{this.adViewable1pxImpressed(),this.adExtraData.viewable1pxImpressed=!0,this.savePersistAd()})),this.adExtraData.viewable100Impressed||this.visibilityObserver?.addEventListener(ed.IMPRESSED_100P,(()=>{this.adViewable100Impressed(),this.adExtraData.viewable100Impressed=!0,this.savePersistAd()})),this.adExtraData.viewable100pImpressed||this.visibilityObserver?.addEventListener(ed.IMPRESSED_100P_WITH_DURATION_1S,(()=>{this.adViewable100pImpressed(),this.adExtraData.viewable100pImpressed=!0,this.savePersistAd()})),this.visibilityObserver?.start()}},{key:"adViewable1pxImpressed",value:function(){this.eventNotifier?.fireVImp1pxEvent()}},{key:"adViewable100Impressed",value:function(){this.eventNotifier?.fireVImp100Event()}},{key:"adViewable100pImpressed",value:function(){this.eventNotifier?.fireVImp100pEvent()}}])}();const Dh={production:{url:"https://kr-col-ext.nelo.navercorp.com/_store",txtToken:"118cdcf6554c4b0ea95c92784cf3e054",projectName:"Pcf3b65_AdSDKDev-web-method"},development:{url:"https://dev-col-tcp.nelo.navercorp.com/_store",txtToken:"5b0f2d6f111f4243a6b2a7f59ec06df4",projectName:"Pecb3ef_AdSDKWeb"}};let Th=function(){return mc((function t(e,n){gc(this,t),pc(this,"phase",void 0),pc(this,"version",void 0),pc(this,"isSelected",void 0),pc(this,"hitMap",{}),this.phase=e,this.version=n,this.isSelected=Math.random()<1e-5}),[{key:"log",value:function(t){const{projectName:e,txtToken:n,url:i}="production"===this.phase||"staging"===this.phase?Dh.production:Dh.development;try{window.navigator.sendBeacon(i,JSON.stringify({txtToken:n,projectName:e,projectVersion:this.version,hostname:window.location.hostname,href:window.location.href,phase:this.phase,ua:navigator.userAgent,...t})),this.hitMap[t.method]=!0}catch(t){}}},{key:"logMethodUniquely",value:function(t){const e="production"!==this.phase,n=this.isSelected,i=e||n;!this.hitMap[t.method]&&i&&this.log(t)}},{key:"logMethodFrequently",value:function(t){const e="production"!==this.phase,n="number"==typeof t.sampleRate&&Math.random()<t.sampleRate;(e||n)&&this.log(t)}}])}();const kh="gladsdk_stored_ad",bh="gladsdk_bounce_back_meta";let Ih=function(){function t(){return gc(this,t),fh(this,t,["sessionStorage"])}return ud(t,th),mc(t,[{key:"setAd",value:function(t,e){const n={regDate:new Date,savedAd:e};this.setObjectItem(kh,t,n)}},{key:"getAd",value:function(t){const e=this.getObjectItem(kh,t);if(!e)return null;const n=e.regDate;return new Date((new Date).setHours(0,0,0,0))>new Date(n)?null:e.savedAd}},{key:"setBounceBackUrls",value:function(t){zd(t)||this.setItem(bh,{bounceUrls:t,timestamp:Number(new Date)})}},{key:"getBounceBackMeta",value:function(){return this.getItem(bh)}},{key:"clearBounceBackMeta",value:function(){this.removeItem(bh)}}])}(),_h=function(){return mc((function t(e,n="production"){gc(this,t),pc(this,"globalConfig",void 0),pc(this,"phase",void 0),pc(this,"globalEnv",void 0),pc(this,"thirdPartyAdapters",void 0),pc(this,"resourceLoader",void 0),pc(this,"persistenceStore",void 0),pc(this,"emptyAdsObserver",void 0),pc(this,"privacyManager",void 0),pc(this,"hostMeta",void 0),pc(this,"forceSafeFrame",void 0),pc(this,"customParam",void 0),pc(this,"segmentForABT",void 0),pc(this,"contentId",void 0),pc(this,"appSDKCommunicator",void 0),pc(this,"debug",void 0),pc(this,"logger",void 0),pc(this,"neloLogger",void 0),this.globalConfig=e,this.phase=n,this.globalEnv=this.getGlobalEnv(),this.thirdPartyAdapters=[],this.resourceLoader=new Zl,this.persistenceStore=new Ih,this.emptyAdsObserver=new lh,this.privacyManager=new Yl,this.hostMeta=new Map,this.forceSafeFrame=!1,this.debug=!1,this.logger=this.getLogger(),this.appSDKCommunicator=new sh,this.appSDKCommunicator.init(),this.neloLogger=new Th(this.phase,this.globalEnv.version)}),[{key:"setGlobalConfig",value:function(t){this.globalConfig=Object.assign({},this.globalConfig,t)}},{key:"setPhase",value:function(t){this.phase=t,this.debug=!0,this.globalEnv=this.getGlobalEnv(!0)}},{key:"setForceSafeFrame",value:function(t){this.forceSafeFrame=t}},{key:"setCustomParam",value:function(t,e){const n=this.customParam;this.customParam=Object.assign({},n,{[t]:e})}},{key:"setPrivacySettings",value:function(t){this.privacyManager.setPrivacySettingsConfig(t)}},{key:"setSegmentForABT",value:function(t){this.segmentForABT=t}},{key:"setContentId",value:function(t){this.contentId=t}},{key:"addThirdPartyAdapter",value:function(t){this.thirdPartyAdapters.push(t)}}])}();var wh,Lh,Oh;function Ch(t,e,n,i){var r=sr(or(t.prototype),e,n);return"function"==typeof r?function(t){return r.apply(n,t)}:r}function Ph(t,e){Mh(t,e),e.add(t)}function Nh(t,e,n){Mh(t,e),e.set(t,n)}function Mh(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Uh(t,e){return t.get(Vh(t,e))}function Fh(t,e,n){return t.set(Vh(t,e),n),n}function Vh(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function xh(t,e,n){return e=or(e),yc(t,Hh()?Reflect.construct(e,n||[],or(t).constructor):e.apply(t,n))}function Hh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hh=function(){return!!t})()}!function(t){t[t.NOT_DETERMINED=0]="NOT_DETERMINED",t[t.RESTRICTED=1]="RESTRICTED",t[t.DENIED=2]="DENIED",t[t.AUTHORIZED=3]="AUTHORIZED"}(wh||(wh={})),function(t){t.PLAY="play",t.PAUSE="pause",t.ENDED="ended",t.MUTE="mute"}(Lh||(Lh={}));let jh=function(){return mc((function t(){gc(this,t)}),null,[{key:"startLogger",value:function(t){this.logger=t,this.cmd.forceExecuteCommands()}},{key:"getLogger",value:function(){return new Proxy(this.logger,{get:(t,e)=>(...t)=>this.callLoggerMethod(e,...t)})}},{key:"callLoggerMethod",value:function(t,...e){this.cmd.push((()=>{const n=this.logger[t];"function"==typeof n&&n.apply(this.logger,e)}))}}])}();Oh=jh,pc(jh,"logger",void 0),pc(jh,"cmd",void 0),Oh.logger={},Oh.cmd=new Sl;const Wh=jh.getLogger(),Gh={requestTimeout:6e4,language:"en",appName:window.location?.hostname,enablePersistAd:!1,maxDedupReqCount:-1,adViewabilityMeasureType:"VIEWABLE_NORMAL"},Bh=qd((()=>atob(String("aHR0cHM6Ly90ZXN0LnRpdmFuLm5hdmVyLmNvbQ=="))))||"",qh=qd((()=>atob(String("aHR0cHM6Ly9iZXRhLW5hbS52ZXRhLm5hdmVyLmNvbQ=="))))||"",Kh=qd((()=>atob(String("aHR0cHM6Ly90ZXN0LWltZy50dmV0YS5uYXZlci5uZXQ="))))||"",$h=t=>{switch(t){case"staging":case"production":return"https://ssl.pstatic.net/melona";case"test":case"local":case"demo":return Kh;default:return String("https://ssl.pstatic.net/tveta/libs/glad/prod")}},zh=t=>{switch(t){case"staging":case"production":return"https://tivan.naver.com";default:return Bh}},Qh=(t,e)=>{if(!e)return String("https://nam.veta.naver.com");switch(t){case"test":case"test2":return qh;case"staging":case"production":return"https://nam.veta.naver.com";default:return String("https://nam.veta.naver.com")}},Xh=t=>{const e=$h(t);switch(t){case"test":return`${e}/libs/glad_admute/test/glad-admute.js`;case"staging":return`${e}/libs/glad_admute/stg/glad-admute.js`;case"production":return`${e}/libs/glad_admute/prod/glad-admute.js`;default:return`${Kh}/libs/glad_admute/test/glad-admute.js`}},Yh=t=>{const e=$h(t);switch(t){case"test":case"staging":case"production":return`${e}/libs/gfp-nac-module/synchronizer.js`;default:return`${Kh}/libs/gfp-nac-module/synchronizer.js`}};const Jh=new(function(){function t(){return gc(this,t),xh(this,t,[Gh,"production"])}return ud(t,_h),mc(t,[{key:"getGlobalEnv",value:function(t=!1){return((t,e)=>{const n="https://ssl.pstatic.net/tveta/libs/glad/prod/3.2.0";return{version:String("3.2.0"),gfp:{chunkUrl:n,cdnDomain:new URL(n).origin,adCallUrl:Qh(t,e),cdnUrl:$h(t),safeFrameContainerUrl:`${n}/res/r.html`,adMuteLibUrl:Xh(t),nacModuleUrl:Yh(t),devtoolUrl:`${n}/gfp-console/gfp-console.html`},tivan:{url:zh(t)}}})(this.phase,t)}},{key:"getLogger",value:function(){return Wh}}])}()),Zh=()=>Jh;var tf;!function(t){t[t.IDLE=1]="IDLE",t[t.LOAD_REQUESTED=2]="LOAD_REQUESTED",t[t.LOADED=4]="LOADED",t[t.CLICKED=8]="CLICKED",t[t.IMPRESSED=16]="IMPRESSED",t[t.FAILED_TO_LOAD=32]="FAILED_TO_LOAD",t[t.OCCURRED_ERROR=64]="OCCURRED_ERROR",t[t.DESTROYED=128]="DESTROYED"}(tf||(tf={}));let ef=function(){return mc((function t(e){gc(this,t),pc(this,"adDeduplicationManager",void 0),pc(this,"maxDedupReqCount",void 0),pc(this,"exclusionCriteriaList",void 0),this.adDeduplicationManager=e,this.maxDedupReqCount=this.adDeduplicationManager.maxDedupReqCount,this.exclusionCriteriaList=this.adDeduplicationManager.exclusionCriteriaList,this.dequeue()}),[{key:"displayAds",value:async function(t){for await(const e of t)await this.displayAd(e)}},{key:"restoreAds",value:async function(t){await Promise.all(t.map((t=>this.restoreAd(t))))}},{key:"displayAd",value:async function(t){t.hasState(tf.LOAD_REQUESTED)||await t.loadAd(this)}},{key:"restoreAd",value:async function(t){if(t.hasState(tf.LOAD_REQUESTED))return;const{adSlot:e}=t,n=e.getAdSlotElementId();if(!document.getElementById(n))return;const{persistenceStore:i,globalConfig:r}=Zh(),o=i.getAd(`${xd()}_${n}`),{enablePersistAd:s}=r;s&&o&&await t.loadAdWithPersistData(o)}},{key:"accumulateExclusionCriteria",value:function(t){if(!t)return;const{advertiserDomains:e,adDuplicationKeys:n}=t;zd(e)&&zd(n)||(this.exclusionCriteriaList.push(t),this.adDeduplicationManager.accumulateExclusionCriteria(t),this.dequeue())}},{key:"mergeIntoExclusionCriteria",value:function(){const t=[],e=[];return this.exclusionCriteriaList.forEach((n=>{t.push(...n.adDuplicationKeys),e.push(...n.advertiserDomains)})),{adDuplicationKeys:jd(t),advertiserDomains:jd(e)}}},{key:"dequeue",value:function(){if(-1!==this.maxDedupReqCount)for(;this.exclusionCriteriaList.length>this.maxDedupReqCount;)this.exclusionCriteriaList.shift()}}])}();var nf=new WeakMap,rf=new WeakMap,of=new WeakMap,sf=new WeakMap,af=new WeakMap,uf=new WeakSet;let cf=function(){return mc((function t({dedupReqId:e,maxDedupReqCount:n,getAdSlotManager:i}){gc(this,t),Ph(this,uf),pc(this,"dedupReqId",void 0),pc(this,"maxDedupReqCount",void 0),Nh(this,nf,void 0),Nh(this,rf,void 0),Nh(this,of,void 0),Nh(this,sf,void 0),Nh(this,af,void 0),this.dedupReqId=e,this.maxDedupReqCount=n,Fh(nf,this,[]),Fh(rf,this,2*n),Fh(of,this,[]),Fh(sf,this,new pd),Uh(sf,this).forceExecuteCommands(),Fh(af,this,i)}),[{key:"exclusionCriteriaList",get:function(){return Uh(of,this).slice()}},{key:"displayAds",value:function(t){Uh(sf,this).push((async()=>{const e=[];for(const n of t){const t=Uh(af,this).call(this,n);if(!t)continue;if(t.hasState(tf.LOAD_REQUESTED)){const{neloLogger:e}=Zh();e.logMethodUniquely({method:"AdDeduplicationManager.displayAds (AdSlotState.LOAD_REQUESTED)",stace:(new Error).stack}),t.invalidate()}const i=Uh(nf,this).findIndex((t=>n.getAdSlotElementId()===t.getAdSlotElementId()));-1===i?Uh(nf,this).push(n):Uh(nf,this).splice(i,1,n),e.push(t)}if(zd(e))return;const n=new ef(this);await n.displayAds(e)}))}},{key:"restoreAds",value:function(t){const e=t??Uh(nf,this),n=[];for(const t of e){const e=Uh(af,this).call(this,t);e&&(e.hasState(tf.LOAD_REQUESTED)&&e.invalidate(!0),n.push(e))}if(zd(n))return;new ef(this).restoreAds(n)}},{key:"accumulateExclusionCriteria",value:function(t){if(!t)return;const{adDuplicationKeys:e,advertiserDomains:n}=t;zd(e)&&zd(n)||(Uh(of,this).push(t),Vh(uf,this,df).call(this))}},{key:"clearAllExclusions",value:function(){Uh(of,this).length=0}}])}();function df(){if(-1!==this.maxDedupReqCount)for(;Uh(of,this).length>Uh(rf,this);)Uh(of,this).shift()}let lf=function(){function t(e){var n;return gc(this,t),pc(n=xh(this,t),"adSlot",void 0),n.adSlot=e,n}return ud(t,$l),mc(t,[{key:"createAdapterInstance",value:function(t,e,n,i,{adSlotListener:r,isPersist:o}){return Array.isArray(e.adInfo.slots)&&!n.slotEventTrackingFlags&&(n.slotEventTrackingFlags=e.adInfo.slots.map((()=>({viewableImpressed:!1,viewable1pxImpressed:!1,viewable100Impressed:!1,viewable100pImpressed:!1})))),new t({store:Zh(),adUnitId:this.adSlot.getAdUnitId(),adSlotElementId:this.adSlot.getAdSlotElementId(),customParam:this.adSlot.getCustomParam(),ad:e,adExtraData:n,eventNotifier:i,adSlotListener:r,isPersist:o})}},{key:"importAdapter",value:async function(t,e){const n=window.gladsdk?.[gh.importAdapter];"function"==typeof n&&await n(t,e)}},{key:"getThirdPartyAdapters",value:function(){const{thirdPartyAdapters:t}=Zh();return t}},{key:"getAdapterClass",value:function(e,n){return Wh.getAdapterClass(e,n,this.adSlot.getAdSlotElementId()),Ch(t,"getAdapterClass",this)([e,n])}}])}(),hf=function(){function t({adSlot:e,adSlotListener:n,isPersist:i,...r}){var o;return gc(this,t),pc(o=xh(this,t,[r]),"adSlot",void 0),pc(o,"adSlotListener",void 0),pc(o,"isPersist",void 0),pc(o,"adapterPicker",void 0),o.adSlot=e,o.adSlotListener=n,o.isPersist=i,o.adapterPicker=new lf(o.adSlot),o}return ud(t,ql),mc(t,[{key:"pickAdapter",value:async function(t,e){Wh.ad(t,this.adSlot.getAdSlotElementId());const n=await this.adapterPicker.pickAdapter(t,this.adExtraData,e,{adSlotListener:this.adSlotListener,isPersist:this.isPersist});return this.adSlotListener.dispatch(ph.ADAPTER_PICKED,{adapter:n}),n}},{key:"getGlobalConfig",value:function(){const{globalConfig:t}=Zh();return t}},{key:"loadAd",value:function(){return this.isPersist?this.processNextAd():Ch(t,"loadAd",this)([])}},{key:"destroy",value:function(e=!1){e&&this.pickedAdapter?.fixContainerHeight(),Ch(t,"destroy",this)([])}},{key:"throwEmptyRenderError",value:function(t){throw new zl(t,Zh().emptyAdsObserver,document.getElementById(this.adSlot.getAdSlotElementId()),this.adExtraData.waterfallResponseConfig?.imp)}}])}(),ff=function(){function t(){return gc(this,t),xh(this,t,arguments)}return ud(t,ch),mc(t,[{key:"execute",value:async function(){const e=this.httpClient.baseUrl+"/gfp/v1";Wh.adCall(this.adCallParams,e,this.adCallParams.xdid);return await Ch(t,"execute",this)([])}},{key:"getAdCallParams",value:function(){return{...this.adCallParams}}}])}(),vf=function(){return mc((function t(){gc(this,t)}),null,[{key:"loadScript",value:async function(){try{if(Od())return;const{resourceLoader:t,globalEnv:e}=Zh(),{nacModuleUrl:n}=e.gfp;await t.saveAndLoad("nacModule","javascript",n)}catch(t){}}},{key:"getNCParam",value:function(){try{return localStorage.getItem("NAC")??void 0}catch(t){return""}}}])}();const pf="da_dom_id";let Ef=function(){function t(e){var n;return gc(this,t),pc(n=xh(this,t,[e.getAdUnitId(),e.getAdSlotElementId()]),"adSlot",void 0),pc(n,"adDeduplicationChunk",void 0),n.adSlot=e,n}return ud(t,dh),mc(t,[{key:"withAdDeduplicationChunk",value:function(t){return this.adDeduplicationChunk=t,this}},{key:"build",value:function(){return new ff(this.buildAdRequestProps())}},{key:"getHttpClient",value:function(){const{globalEnv:t}=Zh();return new nl(t.gfp.adCallUrl)}},{key:"getSdkInfo",value:function(){const{globalEnv:t}=Zh();return{name:"web",version:t.version}}},{key:"getGlobalConfig",value:function(){const{globalConfig:t}=Zh();return t}},{key:"getCustomParams",value:function(){const{customParam:t}=Zh();return{...t,...this.adSlot.getCustomParam(),[pf]:this.adSlot.getAdSlotElementId()}}},{key:"getPrivacyParams",value:function(){const{privacyManager:t}=Zh();return t.getPrivacyInfo()}},{key:"buildAdCallParams",value:function(){const e=Ch(t,"buildAdCallParams",this)([]),{segmentForABT:n,contentId:i,debug:r}=Zh(),o=this.adDeduplicationChunk?.mergeIntoExclusionCriteria(),s=o?.advertiserDomains.map((t=>Vd(t))).join("|"),a=o?.adDuplicationKeys.map((t=>Vd(t))).join("|"),u=Zh().appSDKCommunicator.getAppEnv()?.skadn,c=u?.skAdNetworkVersion??null,d=u?.skAdNetworkIds??null,l=zd(c)||zd(d)?0:1,h=this.getContentInfoString(),f=Vd(n??""),v=vf.getNCParam(),p={...e,ba:s,bx:a,hc:this.getApsTargetingString(),hb:this.getPbjsTargetingString(),sa:l,cti:h,nid:i,abt:f,nc:v};return r&&(p.ua=this.adSlot.ua,p.dip=this.adSlot.dip),p}},{key:"getContentInfoString",value:function(){const t=this.adSlot.getContentInfo();if(!t)return;const{sourceType:e,sourceSubType:n,sourceId:i}=t;return Qd({st:e,sst:n,si:i})}},{key:"getApsTargetingString",value:function(){const t=this.adSlot.getApsTargeting();if(!t)return;const e={amznbid:t.amznbid??"",amzniid:t.amzniid??"",amznsz:t.amznsz??"",amznp:t.amznp??"",slotID:t.slotID??""};return Qd({...e})}},{key:"getPbjsTargetingString",value:function(){const t=this.adSlot.getPbjsTargeting();if(!t)return;const e=t.reduce(((t,e)=>{const n=e.adserverTargeting;return Object.keys(t).forEach((e=>{const i=e;n[i]&&t[i].push(n[i])})),t}),{hb_pb:[],hb_format:[],hb_size:[],hb_bidder:[],hb_adid:[]});return Qd({...e})}}])}(),mf=function(){return mc((function t({adSlot:e,adSlotListener:n}){gc(this,t),pc(this,"adSlot",void 0),pc(this,"adSlotListener",void 0),pc(this,"adExtraData",void 0),pc(this,"adMediator",void 0),pc(this,"accumulatedState",void 0),pc(this,"cancelSource",void 0),this.adSlot=e,this.adSlotListener=n,this.adExtraData={},this.accumulatedState=tf.IDLE,this.adSlotListener.addEventListener(ph.AD_LOADED,(()=>{this.setState(tf.LOADED)})),this.adSlotListener.addEventListener(ph.AD_CLICKED,(()=>{this.setState(tf.CLICKED)})),this.adSlotListener.addEventListener(ph.AD_IMPRESSED,(()=>{this.setState(tf.IMPRESSED)})),this.adSlotListener.addEventListener(ph.LOAD_ERROR,(({error:t})=>{this.setState(tf.FAILED_TO_LOAD),Wh.gfpError(t,this.adSlot.getAdUnitId(),this.adSlot.getAdSlotElementId())})),this.adSlotListener.addEventListener(ph.START_ERROR,(({error:t})=>{this.setState(tf.OCCURRED_ERROR),Wh.gfpError(t,this.adSlot.getAdUnitId(),this.adSlot.getAdSlotElementId())}))}),[{key:"loadAd",value:async function(t){this.setState(tf.LOAD_REQUESTED),this.unobserveEmptyAdElement(),Wh.loadAd(this.adSlot.getAdSlotElementId());try{this.cancelSource=nl.getCancelSource();const e=new Ef(this.adSlot).withAdDeduplicationChunk(t).withCancelSource(this.cancelSource).build(),n=await e.execute();if(!n)return;const{adResponse:i,timeMap:r}=n;this.handleWaterfallResponse(i,t),await this.mediateAds(i.ads,i.eventTracking,r)}catch(t){this.handleLoadError(t)}}},{key:"loadAdWithPersistData",value:async function(t){this.setState(tf.LOAD_REQUESTED),this.unobserveEmptyAdElement(),Wh.loadAdWithPersistData(this.adSlot.getAdSlotElementId());try{const{ad:e,adExtraData:n}=t,i=new eh;if(i.set("request",Date.now()),i.set("response",Date.now()),!n.gfpEventTracking)throw new Gl(Wc.LOAD_ERROR_INVALID_PARAM,Gc.MISSING_PARAM,"gfpEventTracking is required");this.adExtraData=n,await this.mediateAds([e],n.gfpEventTracking,i,!0)}catch(t){this.handleLoadError(t)}}},{key:"loadAdWithWaterfallResponse",value:async function(t,e){this.setState(tf.LOAD_REQUESTED),this.unobserveEmptyAdElement(),Wh.loadAdWithWaterfallResponse(this.adSlot.getAdSlotElementId());try{this.handleWaterfallResponse(t,e);const n=new eh;n.set("request",Date.now()),n.set("response",Date.now()),await this.mediateAds(t.ads,t.eventTracking,n)}catch(t){this.handleLoadError(t)}}},{key:"refreshAd",value:async function(){if(!this.hasState(tf.LOAD_REQUESTED)||this.hasState(tf.LOADED))return this.invalidate(),this.loadAd()}},{key:"setState",value:function(t){this.accumulatedState|=t}},{key:"hasState",value:function(t){return(this.accumulatedState&t)===t}},{key:"mediateAds",value:async function(t,e,n,i=!1){this.adExtraData.gfpEventTracking=e,this.adMediator=new hf({adSlot:this.adSlot,adSlotListener:this.adSlotListener,ads:t,adExtraData:this.adExtraData,eventTracking:e,timeMap:n,isPersist:i}),await this.adMediator.loadAd()}},{key:"unobserveEmptyAdElement",value:function(){const t=document.getElementById(this.adSlot.getAdSlotElementId());t&&Zh().emptyAdsObserver.unobserve(t)}},{key:"handleWaterfallResponse",value:function(t,e){if(this.adExtraData.randomNumber=t.randomNumber,this.adExtraData.waterfallResponseConfig=t.config,e){const{adDuplicationKeys:n=[],advertiserDomains:i=[]}=t;e.accumulateExclusionCriteria({adDuplicationKeys:n,advertiserDomains:i})}t.skadnt&&this.registerSkadnToken(t.skadnt)}},{key:"registerSkadnToken",value:function(t){try{const{appSDKCommunicator:e,globalEnv:n}=Zh(),{skadn:i,appVersion:r}=e.getAppEnv()||{};if(i&&r){const{skAdNetworkIds:e,skAdNetworkVersion:o}=i,s={av:r,skadn:{sav:(Array.isArray(o)?o.join(","):o)||"",sai:(Array.isArray(e)?e:e.split(","))||[]}};Zh().neloLogger.logMethodFrequently({method:`AdSlotManager.registerSkadnToken(${t})`,sampleRate:1}),fetch(`${n.gfp.adCallUrl}/registSkAdn/${t}`,{method:"POST",body:JSON.stringify(s)})}}catch(t){}}},{key:"handleLoadError",value:function(t){t instanceof Error&&Wh.error(t);const e=Gl.fromError(t,Wc.INTERNAL_ERROR,Gc.UNSPECIFIED);this.adSlotListener.dispatch(ph.LOAD_ERROR,{error:e})}},{key:"invalidate",value:function(t=!1){this.accumulatedState=tf.IDLE,this.cancelSource?.cancel(),this.adExtraData={},this.adMediator?.destroy(t)}},{key:"destroy",value:function(){Wh.destroy(this.adSlot.getAdSlotElementId()),this.setState(tf.DESTROYED),this.cancelSource?.cancel(),this.adSlotListener.destroy(),this.adMediator?.destroy()}}])}();var gf=new WeakMap;let yf=function(){return mc((function t(e){gc(this,t),Nh(this,gf,void 0),Fh(gf,this,e)}),[{key:"onLoadAdm",value:function(){Uh(gf,this).onLoadAdm()}},{key:"addCallback",value:function(t){Uh(gf,this).addCallback(t)}},{key:"exposureChangeSetting",value:function(t){Uh(gf,this).exposureChangeSetting(t)}},{key:"notifyAdMeta",value:function(t){Uh(gf,this).adMetaChanged(t)}}])}();var Af=new WeakMap,Sf=new WeakMap,Rf=new WeakMap,Df=new WeakMap,Tf=new WeakMap,kf=new WeakMap,bf=new WeakMap,If=new WeakMap;let _f=function(){return mc((function t({adUnitId:e,adSlotElementId:n,adSlotBridge:i,customParam:r,contentInfo:o}){gc(this,t),Nh(this,Af,void 0),Nh(this,Sf,void 0),Nh(this,Rf,void 0),Nh(this,Df,void 0),Nh(this,Tf,void 0),Nh(this,kf,void 0),Nh(this,bf,void 0),Nh(this,If,void 0),pc(this,"ua",void 0),pc(this,"dip",void 0),Fh(Af,this,e),Fh(Sf,this,n),Fh(Rf,this,i),Fh(kf,this,new yf(i)),r&&Fh(Df,this,Wd(r)),o&&Fh(Tf,this,Wd(o))}),[{key:"getAdUnitId",value:function(){return Uh(Af,this)}},{key:"getAdSlotElementId",value:function(){return Uh(Sf,this)}},{key:"getCustomParam",value:function(){return Uh(Df,this)}},{key:"getContentInfo",value:function(){return Uh(Tf,this)}},{key:"getAdProviderName",value:function(){return Uh(Rf,this).getAdProviderName()}},{key:"getCreativeType",value:function(){return Uh(Rf,this).getCreativeType()}},{key:"getNativeAdVisualId",value:function(){return Zh().neloLogger.logMethodUniquely({method:"AdSlotImpl.getNativeAdVisualId",stace:(new Error).stack}),Uh(Rf,this).getNativeAdVisualId()}},{key:"getVideoController",value:function(){return Zh().neloLogger.logMethodUniquely({method:"AdSlotImpl.getVideoController",stace:(new Error).stack}),Uh(Rf,this).getVideoController()}},{key:"getNdaAPI",value:function(){return Zh().neloLogger.logMethodUniquely({method:"AdSlotImpl.getNdaAPI",stace:(new Error).stack}),Uh(kf,this)}},{key:"setCustomParam",value:function(t,e){Fh(Df,this,Object.assign({},Uh(Df,this),{[t]:e}))}},{key:"setApsBidTargeting",value:function(t){Zh().neloLogger.logMethodUniquely({method:"AdSlotImpl.setApsBidTargeting",stace:(new Error).stack}),zd(t)||Fh(bf,this,t)}},{key:"getApsTargeting",value:function(){return Zh().neloLogger.logMethodUniquely({method:"AdSlotImpl.getApsTargeting",stace:(new Error).stack}),Uh(bf,this)}},{key:"setPbjsBidTargeting",value:function(t){Zh().neloLogger.logMethodUniquely({method:"AdSlotImpl.setPbjsBidTargeting",stace:(new Error).stack}),zd(t)||Fh(If,this,[...t])}},{key:"getPbjsTargeting",value:function(){return Zh().neloLogger.logMethodUniquely({method:"AdSlotImpl.getPbjsTargeting",stace:(new Error).stack}),Uh(If,this)}},{key:"setClickHandler",value:function(t){Zh().neloLogger.logMethodUniquely({method:"AdSlotImpl.setClickHandler",stace:(new Error).stack}),Uh(Rf,this).setClickHandler(t)}},{key:"setNativeClickHandler",value:function(t){Zh().neloLogger.logMethodUniquely({method:"AdSlotImpl.setNativeClickHandler",stace:(new Error).stack}),this.setClickHandler(t)}},{key:"setHostMeta",value:function(t,e){!zd(e)&&["number","string","object","boolean"].includes(typeof e)&&Uh(Rf,this).setHostMeta(t,e)}},{key:"setRenderConfig",value:function(t){Uh(Rf,this).setRenderConfig(t)}},{key:"setForceSafeFrame",value:function(t){Uh(Rf,this).setForceSafeFrame(t)}},{key:"initEvent",value:function(){Zh().neloLogger.logMethodUniquely({method:"AdSlotImpl.initEvent",stace:(new Error).stack}),Uh(Rf,this).initEvent()}},{key:"clearVisibilityObserver",value:function(){Zh().neloLogger.logMethodUniquely({method:"AdSlotImpl.clearVisibilityObserver",stace:(new Error).stack}),Uh(Rf,this).clearVisibilityObserver()}},{key:"destroy",value:function(){Zh().neloLogger.logMethodUniquely({method:"AdSlotImpl.destroy",stace:(new Error).stack})}}])}(),wf=function(){return mc((function t(){gc(this,t)}),null,[{key:"initBounceBackEvent",value:function(){document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&this.fireBounceBackEvent()})),window.addEventListener("pageshow",(()=>{Dl()&&this.fireBounceBackEvent()}))}},{key:"fireBounceBackEvent",value:function(){const{persistenceStore:t}=Zh(),e=t.getBounceBackMeta();if(!e)return;const{bounceUrls:n,timestamp:i}=e;if(zd(n))return;const r=Number(new Date)-i;n.forEach((t=>{Fl.reportEvent(t,void 0,{bbt:r})})),t.clearBounceBackMeta()}}])}(),Lf=function(){return mc((function t({adSlotListener:e}){gc(this,t),pc(this,"adSlotListener",void 0),pc(this,"cmd",void 0),pc(this,"pickedAdapterRef",void 0),pc(this,"hostMeta",void 0),pc(this,"forceSafeFrame",void 0),pc(this,"renderConfig",void 0),pc(this,"clickHandler",void 0),this.adSlotListener=e,this.cmd=new Sl;const{hostMeta:n,forceSafeFrame:i}=Zh();this.hostMeta=new Map(n),this.forceSafeFrame=i,e.addEventListener(ph.ADAPTER_PICKED,(({adapter:t})=>{this.setPickedAdapter(t)}))}),[{key:"getSize",value:function(){return this.pickedAdapter?.getSize()}},{key:"getAdProviderName",value:function(){return this.pickedAdapter?.getAdProviderName()}},{key:"getCreativeType",value:function(){return this.pickedAdapter?.getCreativeType()}},{key:"getNativeAdVisualId",value:function(){return this.pickedAdapter?.getNativeAdVisualId()}},{key:"getVideoController",value:function(){return new Promise(((t,e)=>{this.cmd.push((()=>{const n=this.pickedAdapter??{};if("getVideoController"in n&&"function"==typeof n.getVideoController){const e=n.getVideoController();e&&t(e)}e()}))}))}},{key:"setHostMeta",value:function(t,e){this.hostMeta.set(t,e);const n=this.pickedAdapter??{};"setHostMeta"in n&&"function"==typeof n.setHostMeta&&n.setHostMeta(this.hostMeta)}},{key:"setRenderConfig",value:function(t){this.renderConfig=t,this.pickedAdapter?.setRenderConfig(t)}},{key:"setForceSafeFrame",value:function(t){this.forceSafeFrame=t;const e=this.pickedAdapter??{};"setForceSafeFrame"in e&&"function"==typeof e.setForceSafeFrame&&e.setForceSafeFrame(t)}},{key:"setClickHandler",value:function(t){this.clickHandler=t,this.pickedAdapter?.setClickHandler(t)}},{key:"initEvent",value:function(){this.cmd.push((()=>{const t=this.pickedAdapter??{};"initEvent"in t&&"function"==typeof t.initEvent&&t.initEvent()}))}},{key:"onLoadAdm",value:function(){this.cmd.push((()=>{const t=this.pickedAdapter??{};"onLoadAdm"in t&&"function"==typeof t.onLoadAdm&&t.onLoadAdm()}))}},{key:"addCallback",value:function(t){this.cmd.push((()=>{const e=this.pickedAdapter??{};"addCallback"in e&&"function"==typeof e.addCallback&&e.addCallback(t)}))}},{key:"exposureChangeSetting",value:function(t){this.cmd.push((()=>{const e=this.pickedAdapter??{};"exposureChangeSetting"in e&&"function"==typeof e.exposureChangeSetting&&e.exposureChangeSetting(t)}))}},{key:"adMetaChanged",value:function(t){this.adSlotListener.dispatch(ph.AD_META_CHANGED,{adMeta:t})}},{key:"clearVisibilityObserver",value:function(){this.cmd.push((()=>{const t=this.pickedAdapter;t?.clearVisibilityObserver()}))}},{key:"pickedAdapter",get:function(){return this.pickedAdapterRef?.deref()}},{key:"setPickedAdapter",value:function(t){this.pickedAdapterRef=new WeakRef(t),"setHostMeta"in t&&"function"==typeof t.setHostMeta&&t.setHostMeta(this.hostMeta),"setRenderConfig"in t&&"function"==typeof t.setRenderConfig&&t.setRenderConfig(this.renderConfig),"setForceSafeFrame"in t&&"function"==typeof t.setForceSafeFrame&&t.setForceSafeFrame(this.forceSafeFrame),"setClickHandler"in t&&"function"==typeof t.setClickHandler&&t.setClickHandler(this.clickHandler),this.cmd.forceExecuteCommands()}}])}();var Of;!function(t){t.AD_LOADED="AD_LOADED",t.AD_RENDERED="AD_RENDERED",t.AD_CLICKED="AD_CLICKED",t.AD_IMPRESSED="AD_IMPRESSED",t.AD_MUTE_COMPLETED="AD_MUTE_COMPLETED",t.AD_MUTE_STATE_CHANGED="AD_MUTE_STATE_CHANGED",t.AD_META_CHANGED="AD_META_CHANGED",t.ERROR="ERROR",t.EMPTY="EMPTY"}(Of||(Of={}));let Cf=function(){function t(){return gc(this,t),xh(this,t,arguments)}return ud(t,El),mc(t,[{key:"dispatch",value:function(t,...e){const n=this.eventHandlers[t];n&&n.forEach((t=>{try{t(...e)}catch(t){}}))}}])}();var Pf=new WeakMap,Nf=new WeakMap,Mf=new WeakMap,Uf=new WeakMap,Ff=new WeakMap,Vf=new WeakMap,xf=new WeakSet;let Hf=function(){return mc((function t(){gc(this,t),Ph(this,xf),Nh(this,Pf,void 0),Nh(this,Nf,void 0),Nh(this,Mf,void 0),Nh(this,Uf,void 0),Nh(this,Ff,void 0),Nh(this,Vf,new WeakMap),vf.loadScript(),wf.initBounceBackEvent(),Fh(Pf,this,Zh()),Fh(Nf,this,[]),Fh(Mf,this,new WeakMap),Fh(Uf,this,new Map),Fh(Ff,this,new Cf)}),[{key:"getPhase",value:function(){return Uh(Pf,this).phase}},{key:"setPhase",value:function(t){Uh(Pf,this).setPhase(t)}},{key:"getVersion",value:function(){return Uh(Pf,this).globalEnv.version}},{key:"getGlobalConfig",value:function(){const t=Uh(Pf,this).globalConfig;return{...t,phase:this.getPhase(),debug:Uh(Pf,this).debug,activateIframeTouch:t.activateIframeEvent?.touch}}},{key:"setGlobalConfig",value:function(t){const{phase:e,debug:n,activateIframeTouch:i,...r}=t;zd(e)||(Uh(Pf,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setGlobalConfig(phase)",stace:(new Error)?.stack}),this.setPhase(e)),zd(n)||(Uh(Pf,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setGlobalConfig(debug)",stace:(new Error)?.stack}),this.setPhase(this.getPhase())),zd(i)||(Uh(Pf,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setGlobalConfig(activateIframeTouch)",stace:(new Error)?.stack}),r.activateIframeEvent=Object.assign({},r.activateIframeEvent,{touch:i})),Uh(Pf,this).setGlobalConfig(r),Wh.globalConfig(t)}},{key:"getAdCallQuery",value:function(t){let e=null,n=!1;t.adSlotElementId&&(e=Vh(xf,this,Wf).call(this,t.adSlotElementId)),e||(e=this.defineAdSlot(t),n=!0);const i={...new Ef(e).build().getAdCallParams(),en:1};return n&&this.destroyAdSlots([e]),Xd(i)}},{key:"defineAdSlot",value:function(t){const{adUnitId:e,customParam:n,contentInfo:i}=t;let r=t.adSlotElementId;if(r){const t=this.findAdSlot(r);if(t)return t}else{const t=Uh(Nf,this).filter((t=>t.getAdUnitId()===e));r=`gfp_ad_${e}_${t.length+1}`}const o={};["ai","iv","yob","gender","uct","uid"].forEach((e=>{zd(t[e])||(o[e]=t[e])})),this.setGlobalConfig(o);const s=new Eh,a=new Lf({adSlotListener:s}),u=new _f({adUnitId:e,adSlotElementId:r,customParam:n,contentInfo:i,adSlotBridge:a}),c=new mf({adSlot:u,adSlotListener:s});function d(t){return{ad:{slot:u,size:a.getSize()},...t}}return Uh(Nf,this).push(u),Uh(Mf,this).set(u,c),s.addEventListener(ph.AD_LOADED,(()=>{Uh(Ff,this).dispatch(Of.AD_LOADED,d())})),s.addEventListener(ph.AD_RENDERED,(()=>{Uh(Ff,this).dispatch(Of.AD_RENDERED,d())})),s.addEventListener(ph.AD_CLICKED,(()=>{Uh(Ff,this).dispatch(Of.AD_CLICKED,d())})),s.addEventListener(ph.AD_IMPRESSED,(()=>{Uh(Ff,this).dispatch(Of.AD_IMPRESSED,d())})),s.addEventListener(ph.AD_MUTE_COMPLETED,(()=>{Uh(Ff,this).dispatch(Of.AD_MUTE_COMPLETED,d())})),s.addEventListener(ph.AD_MUTE_STATE_CHANGED,(t=>{Uh(Ff,this).dispatch(Of.AD_MUTE_STATE_CHANGED,d(t))})),s.addEventListener(ph.AD_META_CHANGED,(t=>{Uh(Ff,this).dispatch(Of.AD_META_CHANGED,d(t))})),s.addEventListener(ph.LOAD_ERROR,(t=>{Uh(Ff,this).dispatch(Of.ERROR,d(t)),t.error instanceof zl&&Uh(Ff,this).dispatch(Of.EMPTY,d(t))})),s.addEventListener(ph.START_ERROR,(t=>{Uh(Ff,this).dispatch(Of.ERROR,d(t))})),Wh.defineAdSlot(t),u}},{key:"hasAdSlot",value:function(t){return null!==this.findAdSlot(t)}},{key:"findAdSlot",value:function(t){return Vh(xf,this,Wf).call(this,t)}},{key:"refreshAdSlots",value:function(t){const e=Vh(xf,this,jf).call(this,t);for(const t of e){const e=Uh(Mf,this).get(t);e?.refreshAd()}Wh.refreshAdSlots(e.map((t=>t.getAdSlotElementId())))}},{key:"destroyAdSlots",value:function(t){const e=Vh(xf,this,jf).call(this,t);for(const t of e)Fh(Nf,this,Uh(Nf,this).filter((e=>{if(t===e){const t=Uh(Mf,this).get(e);return t?.destroy(),Uh(Mf,this).delete(e),!1}return!0})));Wh.destroyAdSlots(e.map((t=>t.getAdSlotElementId())))}},{key:"displayAd",value:function(t){const e=Vh(xf,this,Wf).call(this,t);if(!e)return;Wh.displayAd(e.getAdUnitId(),e.getAdSlotElementId());const n=Uh(Mf,this).get(e);if(!n)return;if(n.hasState(tf.LOAD_REQUESTED))return;const{enablePersistAd:i}=this.getGlobalConfig();if(i){const{persistenceStore:t}=Zh(),i=e.getAdSlotElementId(),r=t.getAd(`${xd()}_${i}`);if(r&&Dl()&&document.getElementById(i))return void n.loadAdWithPersistData(r)}n.loadAd()}},{key:"displayAdWithResponse",value:function(t,e,n){const i=Vh(xf,this,Wf).call(this,t);let r;if(n){const t=this.findAdDedupManager(n);t instanceof cf&&(r=new ef(t))}if(!i)return;const o=Uh(Mf,this).get(i);o&&(o.hasState(tf.LOAD_REQUESTED)||o.loadAdWithWaterfallResponse(e,r))}},{key:"setMediationList",value:function(t,e){Uh(Pf,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setMediationList()",stace:(new Error)?.stack});const{adDivId:n}=t;this.displayAdWithResponse(String(n),t,e)}},{key:"setAdDeduplication",value:function(t,e){Uh(Pf,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setAdDeduplication()",stace:(new Error)?.stack});let n=this.findAdDedupManager(t);return n instanceof cf?(n.maxDedupReqCount=e??Uh(Pf,this).globalConfig.maxDedupReqCount,n.clearAllExclusions()):(n=new cf({dedupReqId:t,maxDedupReqCount:e,getAdSlotManager:t=>Uh(Mf,this).get(t)??null}),Uh(Uf,this).set(t,n)),Wh.setAdDeduplication(t,e),n}},{key:"findAdDedupManager",value:function(t){return Uh(Pf,this).neloLogger.logMethodUniquely({method:"GfpDisplay.findAdDedupManager()",stace:(new Error)?.stack}),Uh(Uf,this).get(t)??null}},{key:"clearAdDeduplication",value:function(t){Uh(Pf,this).neloLogger.logMethodUniquely({method:"GfpDisplay.clearAdDeduplication()",stace:(new Error)?.stack});const e=this.findAdDedupManager(t);e instanceof cf&&e.clearAllExclusions()}},{key:"setHostMeta",value:function(t,e){Uh(Pf,this).hostMeta.set(t,e),Uh(Nf,this).forEach((n=>n.setHostMeta(t,e))),Wh.setHostMeta(t,e)}},{key:"setForceSafeFrame",value:function(t){Uh(Pf,this).setForceSafeFrame(t),Uh(Nf,this).forEach((e=>e.setForceSafeFrame(t)))}},{key:"setCustomParam",value:function(t,e){Uh(Pf,this).setCustomParam(t,e)}},{key:"setPrivacySettings",value:function(t){Uh(Pf,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setPrivacySettings()",stace:(new Error)?.stack}),Uh(Pf,this).setPrivacySettings(t)}},{key:"setSegmentForABT",value:function(t){Uh(Pf,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setSegmentForABT()",stace:(new Error)?.stack}),Uh(Pf,this).setSegmentForABT(t)}},{key:"setContentId",value:function(t){Uh(Pf,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setContentId()",stace:(new Error)?.stack}),Uh(Pf,this).setContentId(t)}},{key:"addEventListener",value:function(t,e){let n;switch(t){case Of.AD_MUTE_STATE_CHANGED:n=Uh(Ff,this).addEventListener(Of.AD_MUTE_STATE_CHANGED,(t=>{e(t.ad,t.state)}));break;case Of.AD_META_CHANGED:n=Uh(Ff,this).addEventListener(Of.AD_META_CHANGED,(t=>{e(t.ad,t.adMeta)}));break;case Of.ERROR:case Of.EMPTY:n=Uh(Ff,this).addEventListener(Of.ERROR,(t=>{e(t.ad,t.error)}));break;case Of.AD_LOADED:case Of.AD_RENDERED:case Of.AD_CLICKED:case Of.AD_IMPRESSED:case Of.AD_MUTE_COMPLETED:n=Uh(Ff,this).addEventListener(t,(t=>{e(t.ad)}));break;default:return}Uh(Vf,this).set(e,n)}},{key:"removeEventListener",value:function(t,e){const n=Uh(Vf,this).get(e);n&&(n(),Uh(Vf,this).delete(e))}},{key:"removeAllEventListener",value:function(){return Uh(Ff,this).removeAllListeners()}},{key:"clearActiveViews",value:function(){Uh(Pf,this).neloLogger.logMethodUniquely({method:"GfpDisplay.clearActiveViews()",stace:(new Error)?.stack}),Uh(Nf,this).forEach((t=>{t.clearVisibilityObserver();const e=document.getElementById(t.getAdSlotElementId());e&&Uh(Pf,this).emptyAdsObserver.unobserve(e)}))}},{key:"addThirdPartyAdapter",value:function(t){Uh(Pf,this).addThirdPartyAdapter(t)}},{key:"startLogger",value:function(t){jh.startLogger(t)}}])}();function jf(t){return t?t.reduce(((t,e)=>(e instanceof _f&&Uh(Nf,this).includes(e)&&t.push(e),t)),[]):Uh(Nf,this)}function Wf(t){if(t instanceof _f)return t;const e=t instanceof HTMLElement?t.id:t;return Uh(Nf,this).find((t=>t.getAdSlotElementId()===e))??null}class Gf extends Hf{cmd;event=Of;constructor(t){super(),window.gladsdk=this,this.cmd=new Al(t)}[gh.importAdapter]=async t=>{switch(t){case Jc.NDA_BANNER_NDP:{const{ndpBannerAdapter:t}=await import("./gfp-display-nda.js");this.addThirdPartyAdapter(t);break}case Jc.NDA_BANNER_SF:{const{sfBannerAdapter:t}=await import("./gfp-display-nda.js");this.addThirdPartyAdapter(t);break}case Jc.NDA_BANNER_JS:{const{jsBannerAdapter:t}=await import("./gfp-display-nda.js");this.addThirdPartyAdapter(t);break}case Jc.NATIVE_SIMPLE:case Jc.NATIVE_NORMAL:case Jc.NATIVE_COMPOSITE:{const{ndaNativeAdapter:t}=await import("./gfp-display-nda.js");this.addThirdPartyAdapter(t);break}case Jc.GOOGLE_BANNER:{const{gptBannerAdapter:t}=await import("./gfp-display-gpt.js");this.addThirdPartyAdapter(t);break}case Jc.TEADS_BANNER:{const{teadsBannerAdapter:t}=await import("./gfp-display-teads.js");this.addThirdPartyAdapter(t);break}}};async loadSentry(t={}){const{GfpDisplayLogger:e}=await import("./gfp-display-logger.js"),n=new e,i=["sampleRate"].reduce(((e,n)=>void 0!==t[n]&&null!==t[n]?{...e,[n]:t[n]}:e),{});await n.loadSentry(i),this.startLogger(n)}}const Bf=window.gladsdk??{cmd:[]};if(!(Bf instanceof Gf)){new Gf(Bf.cmd)}export{Uc as A,Sh as B,xc as C,Hc as E,Gl as G,uh as J,$c as M,Rh as N,Jc as R,Lh as V,ud as _,mc as a,Wc as b,Gc as c,Hd as d,ph as e,gc as f,dl as g,pc as h,zd as i,od as j,sr as k,or as l,Sl as m,El as n,yc as o,Od as p,Gd as q,Rl as r,Bc as s,Kd as t,Fc as u,Zl as v};
//# sourceMappingURL=gfp-display-sdk.js.map
